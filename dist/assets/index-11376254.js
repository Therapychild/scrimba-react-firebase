(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wm={exports:{}},Rs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Bf=Object.getOwnPropertySymbols,Dy=Object.prototype.hasOwnProperty,My=Object.prototype.propertyIsEnumerable;function Oy(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Ly(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var _m=Ly()?Object.assign:function(t,e){for(var n,r=Oy(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Dy.call(n,o)&&(r[o]=n[o]);if(Bf){i=Bf(n);for(var u=0;u<i.length;u++)My.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},Sm={exports:{}},ae={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=_m,ii=60103,Em=60106;ae.Fragment=60107;ae.StrictMode=60108;ae.Profiler=60114;var km=60109,Cm=60110,Tm=60112;ae.Suspense=60113;var bm=60115,Im=60116;if(typeof Symbol=="function"&&Symbol.for){var Pt=Symbol.for;ii=Pt("react.element"),Em=Pt("react.portal"),ae.Fragment=Pt("react.fragment"),ae.StrictMode=Pt("react.strict_mode"),ae.Profiler=Pt("react.profiler"),km=Pt("react.provider"),Cm=Pt("react.context"),Tm=Pt("react.forward_ref"),ae.Suspense=Pt("react.suspense"),bm=Pt("react.memo"),Im=Pt("react.lazy")}var Uf=typeof Symbol=="function"&&Symbol.iterator;function $y(t){return t===null||typeof t!="object"?null:(t=Uf&&t[Uf]||t["@@iterator"],typeof t=="function"?t:null)}function xs(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Am={};function si(t,e,n){this.props=t,this.context=e,this.refs=Am,this.updater=n||Pm}si.prototype.isReactComponent={};si.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(xs(85));this.updater.enqueueSetState(this,t,e,"setState")};si.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nm(){}Nm.prototype=si.prototype;function Yc(t,e,n){this.props=t,this.context=e,this.refs=Am,this.updater=n||Pm}var Xc=Yc.prototype=new Nm;Xc.constructor=Yc;Qc(Xc,si.prototype);Xc.isPureReactComponent=!0;var Jc={current:null},Dm=Object.prototype.hasOwnProperty,Mm={key:!0,ref:!0,__self:!0,__source:!0};function Om(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dm.call(e,r)&&!Mm.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ii,type:t,key:s,ref:o,props:i,_owner:Jc.current}}function Ry(t,e){return{$$typeof:ii,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ii}function xy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vf=/\/+/g;function Ru(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xy(""+t.key):e.toString(36)}function $o(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ii:case Em:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ru(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Vf,"$&/")+"/"),$o(i,e,n,"",function(c){return c})):i!=null&&(Zc(i)&&(i=Ry(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Vf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+Ru(s,u);o+=$o(s,e,n,l,i)}else if(l=$y(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+Ru(s,u++),o+=$o(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(xs(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function lo(t,e,n){if(t==null)return t;var r=[],i=0;return $o(t,r,"","",function(s){return e.call(n,s,i++)}),r}function zy(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Lm={current:null};function un(){var t=Lm.current;if(t===null)throw Error(xs(321));return t}var jy={ReactCurrentDispatcher:Lm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Jc,IsSomeRendererActing:{current:!1},assign:Qc};ae.Children={map:lo,forEach:function(t,e,n){lo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lo(t,function(){e++}),e},toArray:function(t){return lo(t,function(e){return e})||[]},only:function(t){if(!Zc(t))throw Error(xs(143));return t}};ae.Component=si;ae.PureComponent=Yc;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jy;ae.cloneElement=function(t,e,n){if(t==null)throw Error(xs(267,t));var r=Qc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)Dm.call(e,l)&&!Mm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:ii,type:t.type,key:i,ref:s,props:r,_owner:o}};ae.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Cm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:km,_context:t},t.Consumer=t};ae.createElement=Om;ae.createFactory=function(t){var e=Om.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:Tm,render:t}};ae.isValidElement=Zc;ae.lazy=function(t){return{$$typeof:Im,_payload:{_status:-1,_result:t},_init:zy}};ae.memo=function(t,e){return{$$typeof:bm,type:t,compare:e===void 0?null:e}};ae.useCallback=function(t,e){return un().useCallback(t,e)};ae.useContext=function(t,e){return un().useContext(t,e)};ae.useDebugValue=function(){};ae.useEffect=function(t,e){return un().useEffect(t,e)};ae.useImperativeHandle=function(t,e,n){return un().useImperativeHandle(t,e,n)};ae.useLayoutEffect=function(t,e){return un().useLayoutEffect(t,e)};ae.useMemo=function(t,e){return un().useMemo(t,e)};ae.useReducer=function(t,e,n){return un().useReducer(t,e,n)};ae.useRef=function(t){return un().useRef(t)};ae.useState=function(t){return un().useState(t)};ae.version="17.0.2";Sm.exports=ae;var bt=Sm.exports;const Pr=$s(bt);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=bt,$m=60103;Rs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Hf=Symbol.for;$m=Hf("react.element"),Rs.Fragment=Hf("react.fragment")}var By=Fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uy=Object.prototype.hasOwnProperty,Vy={key:!0,ref:!0,__self:!0,__source:!0};function Rm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Uy.call(e,r)&&!Vy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$m,type:t,key:s,ref:o,props:i,_owner:By.current}}Rs.jsx=Rm;Rs.jsxs=Rm;wm.exports=Rs;var Me=wm.exports,xm={exports:{}},It={},zm={exports:{}},jm={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var A=t.unstable_now();l(!0,A),l=null}catch(H){throw setTimeout(h,0),H}};e=function(A){l!==null?setTimeout(e,0,A):(l=A,setTimeout(h,0))},n=function(A,H){c=setTimeout(A,H)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,w=window.clearTimeout;if(typeof console<"u"){var b=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof b!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,T=null,v=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<A?Math.floor(1e3/A):5};var C=new MessageChannel,a=C.port2;C.port1.onmessage=function(){if(T!==null){var A=t.unstable_now();g=A+m;try{T(!0,A)?a.postMessage(null):(P=!1,T=null)}catch(H){throw a.postMessage(null),H}}else P=!1},e=function(A){T=A,P||(P=!0,a.postMessage(null))},n=function(A,H){v=_(function(){A(t.unstable_now())},H)},r=function(){w(v),v=-1}}function f(A,H){var W=A.length;A.push(H);e:for(;;){var te=W-1>>>1,re=A[te];if(re!==void 0&&0<y(re,H))A[te]=H,A[W]=re,W=te;else break e}}function d(A){return A=A[0],A===void 0?null:A}function p(A){var H=A[0];if(H!==void 0){var W=A.pop();if(W!==H){A[0]=W;e:for(var te=0,re=A.length;te<re;){var pe=2*(te+1)-1,we=A[pe],z=pe+1,L=A[z];if(we!==void 0&&0>y(we,W))L!==void 0&&0>y(L,we)?(A[te]=L,A[z]=W,te=z):(A[te]=we,A[pe]=W,te=pe);else if(L!==void 0&&0>y(L,W))A[te]=L,A[z]=W,te=z;else break e}}return H}return null}function y(A,H){var W=A.sortIndex-H.sortIndex;return W!==0?W:A.id-H.id}var S=[],E=[],I=1,$=null,N=3,M=!1,O=!1,k=!1;function D(A){for(var H=d(E);H!==null;){if(H.callback===null)p(E);else if(H.startTime<=A)p(E),H.sortIndex=H.expirationTime,f(S,H);else break;H=d(E)}}function U(A){if(k=!1,D(A),!O)if(d(S)!==null)O=!0,e(V);else{var H=d(E);H!==null&&n(U,H.startTime-A)}}function V(A,H){O=!1,k&&(k=!1,r()),M=!0;var W=N;try{for(D(H),$=d(S);$!==null&&(!($.expirationTime>H)||A&&!t.unstable_shouldYield());){var te=$.callback;if(typeof te=="function"){$.callback=null,N=$.priorityLevel;var re=te($.expirationTime<=H);H=t.unstable_now(),typeof re=="function"?$.callback=re:$===d(S)&&p(S),D(H)}else p(S);$=d(S)}if($!==null)var pe=!0;else{var we=d(E);we!==null&&n(U,we.startTime-H),pe=!1}return pe}finally{$=null,N=W,M=!1}}var ie=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){O||M||(O=!0,e(V))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return d(S)},t.unstable_next=function(A){switch(N){case 1:case 2:case 3:var H=3;break;default:H=N}var W=N;N=H;try{return A()}finally{N=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ie,t.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=N;N=A;try{return H()}finally{N=W}},t.unstable_scheduleCallback=function(A,H,W){var te=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,A){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=W+re,A={id:I++,callback:H,priorityLevel:A,startTime:W,expirationTime:re,sortIndex:-1},W>te?(A.sortIndex=W,f(E,A),d(S)===null&&A===d(E)&&(k?r():k=!0,n(U,W-te))):(A.sortIndex=re,f(S,A),O||M||(O=!0,e(V))),A},t.unstable_wrapCallback=function(A){var H=N;return function(){var W=N;N=H;try{return A.apply(this,arguments)}finally{N=W}}}})(jm);zm.exports=jm;var Hy=zm.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=bt,ye=_m,ze=Hy;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Oa)throw Error(x(227));var Fm=new Set,os={};function ar(t,e){Kr(t,e),Kr(t+"Capture",e)}function Kr(t,e){for(os[t]=e,t=0;t<e.length;t++)Fm.add(e[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qf=Object.prototype.hasOwnProperty,Wf={},Kf={};function Wy(t){return qf.call(Kf,t)?!0:qf.call(Wf,t)?!1:qy.test(t)?Kf[t]=!0:(Wf[t]=!0,!1)}function Ky(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gy(t,e,n,r){if(e===null||typeof e>"u"||Ky(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function at(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new at(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new at(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new at(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new at(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new at(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new at(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new at(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new at(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new at(t,5,!1,t.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function td(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ed,td);We[e]=new at(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ed,td);We[e]=new at(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ed,td);We[e]=new at(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new at(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new at(t,1,!1,t.toLowerCase(),null,!0,!0)});function nd(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(Gy(e,n,i,r)&&(n=null),r||i===null?Wy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=Oa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oi=60103,Vn=60106,dn=60107,rd=60108,Vi=60114,id=60109,sd=60110,La=60112,Hi=60113,Yo=60120,$a=60115,od=60116,ad=60121,ud=60128,Bm=60129,ld=60130,Dl=60131;if(typeof Symbol=="function"&&Symbol.for){var Re=Symbol.for;Oi=Re("react.element"),Vn=Re("react.portal"),dn=Re("react.fragment"),rd=Re("react.strict_mode"),Vi=Re("react.profiler"),id=Re("react.provider"),sd=Re("react.context"),La=Re("react.forward_ref"),Hi=Re("react.suspense"),Yo=Re("react.suspense_list"),$a=Re("react.memo"),od=Re("react.lazy"),ad=Re("react.block"),Re("react.scope"),ud=Re("react.opaque.id"),Bm=Re("react.debug_trace_mode"),ld=Re("react.offscreen"),Dl=Re("react.legacy_hidden")}var Gf=typeof Symbol=="function"&&Symbol.iterator;function vi(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var xu;function Li(t){if(xu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xu=e&&e[1]||""}return`
`+xu+t}var zu=!1;function co(t,e){if(!t||zu)return"";zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{zu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Li(t):""}function Qy(t){switch(t.tag){case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return t=co(t.type,!1),t;case 11:return t=co(t.type.render,!1),t;case 22:return t=co(t.type._render,!1),t;case 1:return t=co(t.type,!0),t;default:return""}}function Ar(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case Vn:return"Portal";case Vi:return"Profiler";case rd:return"StrictMode";case Hi:return"Suspense";case Yo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sd:return(t.displayName||"Context")+".Consumer";case id:return(t._context.displayName||"Context")+".Provider";case La:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case $a:return Ar(t.type);case ad:return Ar(t._render);case od:e=t._payload,t=t._init;try{return Ar(t(e))}catch{}}return null}function In(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Um(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yy(t){var e=Um(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fo(t){t._valueTracker||(t._valueTracker=Yy(t))}function Vm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Um(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ml(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=In(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hm(t,e){e=e.checked,e!=null&&nd(t,"checked",e,!1)}function Ol(t,e){Hm(t,e);var n=In(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ll(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ll(t,e.type,In(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ll(t,e,n){(e!=="number"||Xo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Xy(t){var e="";return Oa.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function $l(t,e){return t=ye({children:void 0},e),(e=Xy(e.children))&&(t.children=e),t}function Nr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:In(n)}}function qm(t,e){var n=In(e.value),r=In(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var xl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Wm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ho,Km=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==xl.svg||"innerHTML"in t)t.innerHTML=e;else{for(ho=ho||document.createElement("div"),ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jy=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(t){Jy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qi[e]=qi[t]})});function Gm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qi.hasOwnProperty(t)&&qi[t]?(""+e).trim():e+"px"}function Qm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Gm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Zy=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(t,e){if(e){if(Zy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Fl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function cd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bl=null,Dr=null,Mr=null;function Zf(t){if(t=js(t)){if(typeof Bl!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Ba(e),Bl(t.stateNode,t.type,e))}}function Ym(t){Dr?Mr?Mr.push(t):Mr=[t]:Dr=t}function Xm(){if(Dr){var t=Dr,e=Mr;if(Mr=Dr=null,Zf(t),e)for(t=0;t<e.length;t++)Zf(e[t])}}function dd(t,e){return t(e)}function Jm(t,e,n,r,i){return t(e,n,r,i)}function fd(){}var Zm=dd,Hn=!1,ju=!1;function hd(){(Dr!==null||Mr!==null)&&(fd(),Xm())}function e1(t,e,n){if(ju)return t(e,n);ju=!0;try{return Zm(t,e,n)}finally{ju=!1,hd()}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=Ba(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Ul=!1;if(rn)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Ul=!1}function t1(t,e,n,r,i,s,o,u,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Wi=!1,Jo=null,Zo=!1,Vl=null,n1={onError:function(t){Wi=!0,Jo=t}};function r1(t,e,n,r,i,s,o,u,l){Wi=!1,Jo=null,t1.apply(n1,arguments)}function i1(t,e,n,r,i,s,o,u,l){if(r1.apply(this,arguments),Wi){if(Wi){var c=Jo;Wi=!1,Jo=null}else throw Error(x(198));Zo||(Zo=!0,Vl=c)}}function lr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eh(t){if(lr(t)!==t)throw Error(x(188))}function s1(t){var e=t.alternate;if(!e){if(e=lr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eh(i),t;if(s===r)return eh(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function tg(t){if(t=s1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function th(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var ng,pd,rg,ig,Hl=!1,zt=[],vn=null,yn=null,wn=null,ls=new Map,cs=new Map,wi=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function rh(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function _i(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=ql(e,n,r,i,s),e!==null&&(e=js(e),e!==null&&pd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o1(t,e,n,r,i){switch(e){case"focusin":return vn=_i(vn,t,e,n,r,i),!0;case"dragenter":return yn=_i(yn,t,e,n,r,i),!0;case"mouseover":return wn=_i(wn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ls.set(s,_i(ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cs.set(s,_i(cs.get(s)||null,t,e,n,r,i)),!0}return!1}function a1(t){var e=qn(t.target);if(e!==null){var n=lr(e);if(n!==null){if(e=n.tag,e===13){if(e=eg(n),e!==null){t.blockedOn=e,ig(t.lanePriority,function(){ze.unstable_runWithPriority(t.priority,function(){rg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=js(n),e!==null&&pd(e),t.blockedOn=n,!1;e.shift()}return!0}function ih(t,e,n){Ro(t)&&n.delete(e)}function u1(){for(Hl=!1;0<zt.length;){var t=zt[0];if(t.blockedOn!==null){t=js(t.blockedOn),t!==null&&ng(t);break}for(var e=t.targetContainers;0<e.length;){var n=yd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&zt.shift()}vn!==null&&Ro(vn)&&(vn=null),yn!==null&&Ro(yn)&&(yn=null),wn!==null&&Ro(wn)&&(wn=null),ls.forEach(ih),cs.forEach(ih)}function Si(t,e){t.blockedOn===e&&(t.blockedOn=null,Hl||(Hl=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,u1)))}function sg(t){function e(i){return Si(i,t)}if(0<zt.length){Si(zt[0],t);for(var n=1;n<zt.length;n++){var r=zt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vn!==null&&Si(vn,t),yn!==null&&Si(yn,t),wn!==null&&Si(wn,t),ls.forEach(e),cs.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)a1(n),n.blockedOn===null&&wi.shift()}function po(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wr={animationend:po("Animation","AnimationEnd"),animationiteration:po("Animation","AnimationIteration"),animationstart:po("Animation","AnimationStart"),transitionend:po("Transition","TransitionEnd")},Fu={},og={};rn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Ra(t){if(Fu[t])return Fu[t];if(!wr[t])return t;var e=wr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in og)return Fu[t]=e[n];return t}var ag=Ra("animationend"),ug=Ra("animationiteration"),lg=Ra("animationstart"),cg=Ra("transitionend"),dg=new Map,md=new Map,l1=["abort","abort",ag,"animationEnd",ug,"animationIteration",lg,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",cg,"transitionEnd","waiting","waiting"];function gd(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),md.set(r,e),dg.set(r,i),ar(i,[r])}}var c1=ze.unstable_now;c1();var he=8;function mr(t){if(1&t)return he=15,1;if(2&t)return he=14,2;if(4&t)return he=13,4;var e=24&t;return e!==0?(he=12,e):t&32?(he=11,32):(e=192&t,e!==0?(he=10,e):t&256?(he=9,256):(e=3584&t,e!==0?(he=8,e):t&4096?(he=7,4096):(e=4186112&t,e!==0?(he=6,e):(e=62914560&t,e!==0?(he=5,e):t&67108864?(he=4,67108864):t&134217728?(he=3,134217728):(e=805306368&t,e!==0?(he=2,e):1073741824&t?(he=1,1073741824):(he=8,t))))))}function d1(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function f1(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(x(358,t))}}function ds(t,e){var n=t.pendingLanes;if(n===0)return he=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=he=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=mr(l),i=he):(u&=s,u!==0&&(r=mr(u),i=he))}else s=n&~o,s!==0?(r=mr(s),i=he):u!==0&&(r=mr(u),i=he);if(r===0)return 0;if(r=31-Pn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(mr(e),i<=he)return e;he=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ea(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=gr(24&~e),t===0?ea(10,e):t;case 10:return t=gr(192&~e),t===0?ea(8,e):t;case 8:return t=gr(3584&~e),t===0&&(t=gr(4186112&~e),t===0&&(t=512)),t;case 2:return e=gr(805306368&~e),e===0&&(e=268435456),e}throw Error(x(358,t))}function gr(t){return t&-t}function Bu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xa(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Pn(e),t[e]=n}var Pn=Math.clz32?Math.clz32:m1,h1=Math.log,p1=Math.LN2;function m1(t){return t===0?32:31-(h1(t)/p1|0)|0}var g1=ze.unstable_UserBlockingPriority,v1=ze.unstable_runWithPriority,xo=!0;function y1(t,e,n,r){Hn||fd();var i=vd,s=Hn;Hn=!0;try{Jm(i,t,e,n,r)}finally{(Hn=s)||hd()}}function w1(t,e,n,r){v1(g1,vd.bind(null,t,e,n,r))}function vd(t,e,n,r){if(xo){var i;if((i=(e&4)===0)&&0<zt.length&&-1<nh.indexOf(t))t=ql(null,t,e,n,r),zt.push(t);else{var s=yd(t,e,n,r);if(s===null)i&&rh(t,r);else{if(i){if(-1<nh.indexOf(t)){t=ql(s,t,e,n,r),zt.push(t);return}if(o1(s,t,e,n,r))return;rh(t,r)}Tg(t,e,r,null,n)}}}}function yd(t,e,n,r){var i=cd(r);if(i=qn(i),i!==null){var s=lr(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=eg(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Tg(t,e,r,i,n),null}var fn=null,wd=null,zo=null;function hg(){if(zo)return zo;var t,e=wd,n=e.length,r,i="value"in fn?fn.value:fn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zo=i.slice(t,1<r?1-r:void 0)}function jo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function sh(){return!1}function yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mo:sh,this.isPropagationStopped=sh,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),e}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_d=yt(oi),zs=ye({},oi,{view:0,detail:0}),_1=yt(zs),Uu,Vu,Ei,za=ye({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Uu=t.screenX-Ei.screenX,Vu=t.screenY-Ei.screenY):Vu=Uu=0,Ei=t),Uu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),oh=yt(za),S1=ye({},za,{dataTransfer:0}),E1=yt(S1),k1=ye({},zs,{relatedTarget:0}),Hu=yt(k1),C1=ye({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=yt(C1),b1=ye({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I1=yt(b1),P1=ye({},oi,{data:0}),ah=yt(P1),A1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D1[t])?!!e[t]:!1}function Sd(){return M1}var O1=ye({},zs,{key:function(t){if(t.key){var e=A1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sd,charCode:function(t){return t.type==="keypress"?jo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L1=yt(O1),$1=ye({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=yt($1),R1=ye({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sd}),x1=yt(R1),z1=ye({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),j1=yt(z1),F1=ye({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B1=yt(F1),U1=[9,13,27,32],Ed=rn&&"CompositionEvent"in window,Ki=null;rn&&"documentMode"in document&&(Ki=document.documentMode);var V1=rn&&"TextEvent"in window&&!Ki,pg=rn&&(!Ed||Ki&&8<Ki&&11>=Ki),lh=String.fromCharCode(32),ch=!1;function mg(t,e){switch(t){case"keyup":return U1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _r=!1;function H1(t,e){switch(t){case"compositionend":return gg(e);case"keypress":return e.which!==32?null:(ch=!0,lh);case"textInput":return t=e.data,t===lh&&ch?null:t;default:return null}}function q1(t,e){if(_r)return t==="compositionend"||!Ed&&mg(t,e)?(t=hg(),zo=wd=fn=null,_r=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pg&&e.locale!=="ko"?null:e.data;default:return null}}var W1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W1[t.type]:e==="textarea"}function vg(t,e,n,r){Ym(r),e=ta(e,"onChange"),0<e.length&&(n=new _d("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gi=null,fs=null;function K1(t){Eg(t,0)}function ja(t){var e=Er(t);if(Vm(e))return t}function G1(t,e){if(t==="change")return e}var yg=!1;if(rn){var qu;if(rn){var Wu="oninput"in document;if(!Wu){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),Wu=typeof fh.oninput=="function"}qu=Wu}else qu=!1;yg=qu&&(!document.documentMode||9<document.documentMode)}function hh(){Gi&&(Gi.detachEvent("onpropertychange",wg),fs=Gi=null)}function wg(t){if(t.propertyName==="value"&&ja(fs)){var e=[];if(vg(e,fs,t,cd(t)),t=K1,Hn)t(e);else{Hn=!0;try{dd(t,e)}finally{Hn=!1,hd()}}}}function Q1(t,e,n){t==="focusin"?(hh(),Gi=e,fs=n,Gi.attachEvent("onpropertychange",wg)):t==="focusout"&&hh()}function Y1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(fs)}function X1(t,e){if(t==="click")return ja(e)}function J1(t,e){if(t==="input"||t==="change")return ja(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:Z1,ew=Object.prototype.hasOwnProperty;function hs(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ew.call(e,n[r])||!_t(t[n[r]],e[n[r]]))return!1;return!0}function ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mh(t,e){var n=ph(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ph(n)}}function _g(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_g(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gh(){for(var t=window,e=Xo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xo(t.document)}return e}function Wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var tw=rn&&"documentMode"in document&&11>=document.documentMode,Sr=null,Kl=null,Qi=null,Gl=!1;function vh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gl||Sr==null||Sr!==Xo(r)||(r=Sr,"selectionStart"in r&&Wl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&hs(Qi,r)||(Qi=r,r=ta(Kl,"onSelect"),0<r.length&&(e=new _d("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sr)))}gd("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);gd("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);gd(l1,2);for(var yh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ku=0;Ku<yh.length;Ku++)md.set(yh[Ku],0);Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function wh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i1(r,e,void 0,t),t.currentTarget=null}function Eg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,c=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;wh(i,u,c),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,c=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;wh(i,u,c),s=l}}}if(Zo)throw t=Vl,Zo=!1,Vl=null,t}function me(t,e){var n=Ig(e),r=t+"__bubble";n.has(r)||(Cg(e,t,2,!1),n.add(r))}var _h="_reactListening"+Math.random().toString(36).slice(2);function kg(t){t[_h]||(t[_h]=!0,Fm.forEach(function(e){Sg.has(e)||Sh(e,!1,t,null),Sh(e,!0,t,null)}))}function Sh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&Sg.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=Ig(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),Cg(s,t,i,e),o.add(u))}function Cg(t,e,n,r){var i=md.get(e);switch(i===void 0?2:i){case 0:i=y1;break;case 1:i=w1;break;default:i=vd}n=i.bind(null,e,n,t),i=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=qn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}e1(function(){var c=s,h=cd(n),_=[];e:{var w=dg.get(t);if(w!==void 0){var b=_d,P=t;switch(t){case"keypress":if(jo(n)===0)break e;case"keydown":case"keyup":b=L1;break;case"focusin":P="focus",b=Hu;break;case"focusout":P="blur",b=Hu;break;case"beforeblur":case"afterblur":b=Hu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=E1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=x1;break;case ag:case ug:case lg:b=T1;break;case cg:b=j1;break;case"scroll":b=_1;break;case"wheel":b=B1;break;case"copy":case"cut":case"paste":b=I1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=uh}var T=(e&4)!==0,v=!T&&t==="scroll",m=T?w!==null?w+"Capture":null:w;T=[];for(var g=c,C;g!==null;){C=g;var a=C.stateNode;if(C.tag===5&&a!==null&&(C=a,m!==null&&(a=us(g,m),a!=null&&T.push(ps(g,a,C)))),v)break;g=g.return}0<T.length&&(w=new b(w,P,null,n,h),_.push({event:w,listeners:T}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",w&&!(e&16)&&(P=n.relatedTarget||n.fromElement)&&(qn(P)||P[ai]))break e;if((b||w)&&(w=h.window===h?h:(w=h.ownerDocument)?w.defaultView||w.parentWindow:window,b?(P=n.relatedTarget||n.toElement,b=c,P=P?qn(P):null,P!==null&&(v=lr(P),P!==v||P.tag!==5&&P.tag!==6)&&(P=null)):(b=null,P=c),b!==P)){if(T=oh,a="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(T=uh,a="onPointerLeave",m="onPointerEnter",g="pointer"),v=b==null?w:Er(b),C=P==null?w:Er(P),w=new T(a,g+"leave",b,n,h),w.target=v,w.relatedTarget=C,a=null,qn(h)===c&&(T=new T(m,g+"enter",P,n,h),T.target=C,T.relatedTarget=v,a=T),v=a,b&&P)t:{for(T=b,m=P,g=0,C=T;C;C=hr(C))g++;for(C=0,a=m;a;a=hr(a))C++;for(;0<g-C;)T=hr(T),g--;for(;0<C-g;)m=hr(m),C--;for(;g--;){if(T===m||m!==null&&T===m.alternate)break t;T=hr(T),m=hr(m)}T=null}else T=null;b!==null&&Eh(_,w,b,T,!1),P!==null&&v!==null&&Eh(_,v,P,T,!0)}}e:{if(w=c?Er(c):window,b=w.nodeName&&w.nodeName.toLowerCase(),b==="select"||b==="input"&&w.type==="file")var f=G1;else if(dh(w))if(yg)f=J1;else{f=Y1;var d=Q1}else(b=w.nodeName)&&b.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(f=X1);if(f&&(f=f(t,c))){vg(_,f,n,h);break e}d&&d(t,w,c),t==="focusout"&&(d=w._wrapperState)&&d.controlled&&w.type==="number"&&Ll(w,"number",w.value)}switch(d=c?Er(c):window,t){case"focusin":(dh(d)||d.contentEditable==="true")&&(Sr=d,Kl=c,Qi=null);break;case"focusout":Qi=Kl=Sr=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,vh(_,n,h);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":vh(_,n,h)}var p;if(Ed)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else _r?mg(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(pg&&n.locale!=="ko"&&(_r||y!=="onCompositionStart"?y==="onCompositionEnd"&&_r&&(p=hg()):(fn=h,wd="value"in fn?fn.value:fn.textContent,_r=!0)),d=ta(c,y),0<d.length&&(y=new ah(y,t,null,n,h),_.push({event:y,listeners:d}),p?y.data=p:(p=gg(n),p!==null&&(y.data=p)))),(p=V1?H1(t,n):q1(t,n))&&(c=ta(c,"onBeforeInput"),0<c.length&&(h=new ah("onBeforeInput","beforeinput",null,n,h),_.push({event:h,listeners:c}),h.data=p))}Eg(_,e)})}function ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ta(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=us(t,n),s!=null&&r.unshift(ps(t,s,i)),s=us(t,e),s!=null&&r.push(ps(t,s,i))),t=t.return}return r}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Eh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,c=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&c!==null&&(u=c,i?(l=us(n,s),l!=null&&o.unshift(ps(n,l,u))):i||(l=us(n,s),l!=null&&o.push(ps(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function na(){}var Gu=null,Qu=null;function bg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ql(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,nw=typeof clearTimeout=="function"?clearTimeout:void 0;function kd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Ch(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yu=0;function rw(t){return{$$typeof:ud,toString:t,valueOf:t}}var Fa=Math.random().toString(36).slice(2),hn="__reactFiber$"+Fa,ra="__reactProps$"+Fa,ai="__reactContainer$"+Fa,Th="__reactEvents$"+Fa;function qn(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ch(t);t!==null;){if(n=t[hn])return n;t=Ch(t)}return e}t=n,n=t.parentNode}return null}function js(t){return t=t[hn]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Ba(t){return t[ra]||null}function Ig(t){var e=t[Th];return e===void 0&&(e=t[Th]=new Set),e}var Yl=[],kr=-1;function $n(t){return{current:t}}function ve(t){0>kr||(t.current=Yl[kr],Yl[kr]=null,kr--)}function ke(t,e){kr++,Yl[kr]=t.current,t.current=e}var An={},rt=$n(An),dt=$n(!1),er=An;function Gr(t,e){var n=t.type.contextTypes;if(!n)return An;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function ia(){ve(dt),ve(rt)}function bh(t,e,n){if(rt.current!==An)throw Error(x(168));ke(rt,e),ke(dt,n)}function Pg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(x(108,Ar(e)||"Unknown",i));return ye({},n,r)}function Fo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||An,er=rt.current,ke(rt,t),ke(dt,dt.current),!0}function Ih(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Pg(t,e,er),r.__reactInternalMemoizedMergedChildContext=t,ve(dt),ve(rt),ke(rt,t)):ve(dt),ke(dt,n)}var Cd=null,Xn=null,iw=ze.unstable_runWithPriority,Td=ze.unstable_scheduleCallback,Xl=ze.unstable_cancelCallback,sw=ze.unstable_shouldYield,Ph=ze.unstable_requestPaint,Jl=ze.unstable_now,ow=ze.unstable_getCurrentPriorityLevel,Ua=ze.unstable_ImmediatePriority,Ag=ze.unstable_UserBlockingPriority,Ng=ze.unstable_NormalPriority,Dg=ze.unstable_LowPriority,Mg=ze.unstable_IdlePriority,Xu={},aw=Ph!==void 0?Ph:function(){},Xt=null,Bo=null,Ju=!1,Ah=Jl(),Je=1e4>Ah?Jl:function(){return Jl()-Ah};function Qr(){switch(ow()){case Ua:return 99;case Ag:return 98;case Ng:return 97;case Dg:return 96;case Mg:return 95;default:throw Error(x(332))}}function Og(t){switch(t){case 99:return Ua;case 98:return Ag;case 97:return Ng;case 96:return Dg;case 95:return Mg;default:throw Error(x(332))}}function tr(t,e){return t=Og(t),iw(t,e)}function ms(t,e,n){return t=Og(t),Td(t,e,n)}function Gt(){if(Bo!==null){var t=Bo;Bo=null,Xl(t)}Lg()}function Lg(){if(!Ju&&Xt!==null){Ju=!0;var t=0;try{var e=Xt;tr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Xt=null}catch(n){throw Xt!==null&&(Xt=Xt.slice(t+1)),Td(Ua,Gt),n}finally{Ju=!1}}}var uw=ur.ReactCurrentBatchConfig;function Ot(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sa=$n(null),oa=null,Cr=null,aa=null;function bd(){aa=Cr=oa=null}function Id(t){var e=sa.current;ve(sa),t.type._context._currentValue=e}function $g(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Lr(t,e){oa=t,aa=Cr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function Ct(t,e){if(aa!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(aa=t,e=1073741823),e={context:t,observedBits:e,next:null},Cr===null){if(oa===null)throw Error(x(308));Cr=e,oa.dependencies={lanes:0,firstContext:e,responders:null}}else Cr=Cr.next=e;return t._currentValue}var cn=!1;function Pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Rg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Nh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gs(t,e,n,r){var i=t.updateQueue;cn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var _=h.lastBaseUpdate;_!==o&&(_===null?h.firstBaseUpdate=c:_.next=c,h.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,h=c=l=null;do{u=s.lane;var w=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,P=s;switch(u=e,w=n,P.tag){case 1:if(b=P.payload,typeof b=="function"){_=b.call(w,_,u);break e}_=b;break e;case 3:b.flags=b.flags&-4097|64;case 0:if(b=P.payload,u=typeof b=="function"?b.call(w,_,u):b,u==null)break e;_=ye({},_,u);break e;case 2:cn=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else w={eventTime:w,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=w,l=_):h=h.next=w,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);h===null&&(l=_),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,Bs|=o,t.lanes=o,t.memoizedState=_}}function Dh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var xg=new Oa.Component().refs;function ua(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Va={isMounted:function(t){return(t=t._reactInternals)?lr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=En(t),s=_n(r,i);s.payload=e,n!=null&&(s.callback=n),Sn(t,s),kn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=En(t),s=_n(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Sn(t,s),kn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=En(t),i=_n(n,r);i.tag=2,e!=null&&(i.callback=e),Sn(t,i),kn(t,r,n)}};function Mh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!hs(n,r)||!hs(i,s):!0}function zg(t,e,n){var r=!1,i=An,s=e.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(i=ft(e)?er:rt.current,r=e.contextTypes,s=(r=r!=null)?Gr(t,i):An),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Va,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Oh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Va.enqueueReplaceState(e,e.state,null)}function Zl(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=xg,Pd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ct(s):(s=ft(e)?er:rt.current,i.context=Gr(t,s)),gs(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ua(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Va.enqueueReplaceState(i,i.state,null),gs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var go=Array.isArray;function ki(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===xg&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function vo(t,e){if(t.type!=="textarea")throw Error(x(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function jg(t){function e(v,m){if(t){var g=v.lastEffect;g!==null?(g.nextEffect=m,v.lastEffect=m):v.firstEffect=v.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Dn(v,m),v.index=0,v.sibling=null,v}function s(v,m,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<m?(v.flags=2,m):g):(v.flags=2,m)):m}function o(v){return t&&v.alternate===null&&(v.flags=2),v}function u(v,m,g,C){return m===null||m.tag!==6?(m=rl(g,v.mode,C),m.return=v,m):(m=i(m,g),m.return=v,m)}function l(v,m,g,C){return m!==null&&m.elementType===g.type?(C=i(m,g.props),C.ref=ki(v,m,g),C.return=v,C):(C=qo(g.type,g.key,g.props,null,v.mode,C),C.ref=ki(v,m,g),C.return=v,C)}function c(v,m,g,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=il(g,v.mode,C),m.return=v,m):(m=i(m,g.children||[]),m.return=v,m)}function h(v,m,g,C,a){return m===null||m.tag!==7?(m=zr(g,v.mode,C,a),m.return=v,m):(m=i(m,g),m.return=v,m)}function _(v,m,g){if(typeof m=="string"||typeof m=="number")return m=rl(""+m,v.mode,g),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Oi:return g=qo(m.type,m.key,m.props,null,v.mode,g),g.ref=ki(v,null,m),g.return=v,g;case Vn:return m=il(m,v.mode,g),m.return=v,m}if(go(m)||vi(m))return m=zr(m,v.mode,g,null),m.return=v,m;vo(v,m)}return null}function w(v,m,g,C){var a=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return a!==null?null:u(v,m,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Oi:return g.key===a?g.type===dn?h(v,m,g.props.children,C,a):l(v,m,g,C):null;case Vn:return g.key===a?c(v,m,g,C):null}if(go(g)||vi(g))return a!==null?null:h(v,m,g,C,null);vo(v,g)}return null}function b(v,m,g,C,a){if(typeof C=="string"||typeof C=="number")return v=v.get(g)||null,u(m,v,""+C,a);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Oi:return v=v.get(C.key===null?g:C.key)||null,C.type===dn?h(m,v,C.props.children,a,C.key):l(m,v,C,a);case Vn:return v=v.get(C.key===null?g:C.key)||null,c(m,v,C,a)}if(go(C)||vi(C))return v=v.get(g)||null,h(m,v,C,a,null);vo(m,C)}return null}function P(v,m,g,C){for(var a=null,f=null,d=m,p=m=0,y=null;d!==null&&p<g.length;p++){d.index>p?(y=d,d=null):y=d.sibling;var S=w(v,d,g[p],C);if(S===null){d===null&&(d=y);break}t&&d&&S.alternate===null&&e(v,d),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S,d=y}if(p===g.length)return n(v,d),a;if(d===null){for(;p<g.length;p++)d=_(v,g[p],C),d!==null&&(m=s(d,m,p),f===null?a=d:f.sibling=d,f=d);return a}for(d=r(v,d);p<g.length;p++)y=b(d,v,p,g[p],C),y!==null&&(t&&y.alternate!==null&&d.delete(y.key===null?p:y.key),m=s(y,m,p),f===null?a=y:f.sibling=y,f=y);return t&&d.forEach(function(E){return e(v,E)}),a}function T(v,m,g,C){var a=vi(g);if(typeof a!="function")throw Error(x(150));if(g=a.call(g),g==null)throw Error(x(151));for(var f=a=null,d=m,p=m=0,y=null,S=g.next();d!==null&&!S.done;p++,S=g.next()){d.index>p?(y=d,d=null):y=d.sibling;var E=w(v,d,S.value,C);if(E===null){d===null&&(d=y);break}t&&d&&E.alternate===null&&e(v,d),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,d=y}if(S.done)return n(v,d),a;if(d===null){for(;!S.done;p++,S=g.next())S=_(v,S.value,C),S!==null&&(m=s(S,m,p),f===null?a=S:f.sibling=S,f=S);return a}for(d=r(v,d);!S.done;p++,S=g.next())S=b(d,v,p,S.value,C),S!==null&&(t&&S.alternate!==null&&d.delete(S.key===null?p:S.key),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S);return t&&d.forEach(function(I){return e(v,I)}),a}return function(v,m,g,C){var a=typeof g=="object"&&g!==null&&g.type===dn&&g.key===null;a&&(g=g.props.children);var f=typeof g=="object"&&g!==null;if(f)switch(g.$$typeof){case Oi:e:{for(f=g.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(g.type===dn){n(v,a.sibling),m=i(a,g.props.children),m.return=v,v=m;break e}break;default:if(a.elementType===g.type){n(v,a.sibling),m=i(a,g.props),m.ref=ki(v,a,g),m.return=v,v=m;break e}}n(v,a);break}else e(v,a);a=a.sibling}g.type===dn?(m=zr(g.props.children,v.mode,C,g.key),m.return=v,v=m):(C=qo(g.type,g.key,g.props,null,v.mode,C),C.ref=ki(v,m,g),C.return=v,v=C)}return o(v);case Vn:e:{for(a=g.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(v,m.sibling),m=i(m,g.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=il(g,v.mode,C),m.return=v,v=m}return o(v)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,g),m.return=v,v=m):(n(v,m),m=rl(g,v.mode,C),m.return=v,v=m),o(v);if(go(g))return P(v,m,g,C);if(vi(g))return T(v,m,g,C);if(f&&vo(v,g),typeof g>"u"&&!a)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error(x(152,Ar(v.type)||"Component"))}return n(v,m)}}var la=jg(!0),Fg=jg(!1),Fs={},Vt=$n(Fs),vs=$n(Fs),ys=$n(Fs);function Wn(t){if(t===Fs)throw Error(x(174));return t}function ec(t,e){switch(ke(ys,e),ke(vs,t),ke(Vt,Fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zl(e,t)}ve(Vt),ke(Vt,e)}function Yr(){ve(Vt),ve(vs),ve(ys)}function Lh(t){Wn(ys.current);var e=Wn(Vt.current),n=zl(e,t.type);e!==n&&(ke(vs,t),ke(Vt,n))}function Ad(t){vs.current===t&&(ve(Vt),ve(vs))}var Se=$n(0);function ca(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zt=null,pn=null,Ht=!1;function Bg(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function $h(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function tc(t){if(Ht){var e=pn;if(e){var n=e;if(!$h(t,e)){if(e=Or(n.nextSibling),!e||!$h(t,e)){t.flags=t.flags&-1025|2,Ht=!1,Zt=t;return}Bg(Zt,n)}Zt=t,pn=Or(e.firstChild)}else t.flags=t.flags&-1025|2,Ht=!1,Zt=t}}function Rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function yo(t){if(t!==Zt)return!1;if(!Ht)return Rh(t),Ht=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Ql(e,t.memoizedProps))for(e=pn;e;)Bg(t,e),e=Or(e.nextSibling);if(Rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=Or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=Zt?Or(t.stateNode.nextSibling):null;return!0}function Zu(){pn=Zt=null,Ht=!1}var $r=[];function Nd(){for(var t=0;t<$r.length;t++)$r[t]._workInProgressVersionPrimary=null;$r.length=0}var Yi=ur.ReactCurrentDispatcher,kt=ur.ReactCurrentBatchConfig,ws=0,Ie=null,Qe=null,Be=null,da=!1,Xi=!1;function ut(){throw Error(x(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function Md(t,e,n,r,i,s){if(ws=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yi.current=t===null||t.memoizedState===null?cw:dw,t=n(r,i),Xi){s=0;do{if(Xi=!1,!(25>s))throw Error(x(301));s+=1,Be=Qe=null,e.updateQueue=null,Yi.current=fw,t=n(r,i)}while(Xi)}if(Yi.current=ma,e=Qe!==null&&Qe.next!==null,ws=0,Be=Qe=Ie=null,da=!1,e)throw Error(x(300));return t}function Kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ie.memoizedState=Be=t:Be=Be.next=t,Be}function cr(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Be===null?Ie.memoizedState:Be.next;if(e!==null)Be=e,Qe=t;else{if(t===null)throw Error(x(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Be===null?Ie.memoizedState=Be=t:Be=Be.next=t}return Be}function jt(t,e){return typeof e=="function"?e(t):e}function Ci(t){var e=cr(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var c=l.lane;if((ws&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Ie.lanes|=c,Bs|=c}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,_t(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Ti(t){var e=cr(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_t(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xh(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(ws&t)===t)&&(e._workInProgressVersionPrimary=r,$r.push(e))),t)return n(e._source);throw $r.push(e),Error(x(350))}function Ug(t,e,n,r){var i=ot;if(i===null)throw Error(x(349));var s=e._getVersion,o=s(e._source),u=Yi.current,l=u.useState(function(){return xh(i,e,n)}),c=l[1],h=l[0];l=Be;var _=t.memoizedState,w=_.refs,b=w.getSnapshot,P=_.source;_=_.subscribe;var T=Ie;return t.memoizedState={refs:w,source:e,subscribe:r},u.useEffect(function(){w.getSnapshot=n,w.setSnapshot=c;var v=s(e._source);if(!_t(o,v)){v=n(e._source),_t(h,v)||(c(v),v=En(T),i.mutableReadLanes|=v&i.pendingLanes),v=i.mutableReadLanes,i.entangledLanes|=v;for(var m=i.entanglements,g=v;0<g;){var C=31-Pn(g),a=1<<C;m[C]|=v,g&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var v=w.getSnapshot,m=w.setSnapshot;try{m(v(e._source));var g=En(T);i.mutableReadLanes|=g&i.pendingLanes}catch(C){m(function(){throw C})}})},[e,r]),_t(b,n)&&_t(P,e)&&_t(_,r)||(t={pending:null,dispatch:null,lastRenderedReducer:jt,lastRenderedState:h},t.dispatch=c=$d.bind(null,Ie,t),l.queue=t,l.baseQueue=null,h=xh(i,e,n),l.memoizedState=l.baseState=h),h}function Vg(t,e,n){var r=cr();return Ug(r,t,e,n)}function bi(t){var e=Kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:jt,lastRenderedState:t},t=t.dispatch=$d.bind(null,Ie,t),[e.memoizedState,t]}function fa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zh(t){var e=Kn();return t={current:t},e.memoizedState=t}function ha(){return cr().memoizedState}function nc(t,e,n,r){var i=Kn();Ie.flags|=t,i.memoizedState=fa(1|e,n,void 0,r===void 0?null:r)}function Od(t,e,n,r){var i=cr();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&Dd(r,o.deps)){fa(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=fa(1|e,n,s,r)}function jh(t,e){return nc(516,4,t,e)}function pa(t,e){return Od(516,4,t,e)}function Hg(t,e){return Od(4,2,t,e)}function qg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wg(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,2,qg.bind(null,e,t),n)}function Ld(){}function Kg(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gg(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lw(t,e){var n=Qr();tr(98>n?98:n,function(){t(!0)}),tr(97<n?97:n,function(){var r=kt.transition;kt.transition=1;try{t(!1),e()}finally{kt.transition=r}})}function $d(t,e,n){var r=gt(),i=En(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Ie||o!==null&&o===Ie)Xi=da=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,_t(l,u))return}catch{}finally{}kn(t,i,r)}}var ma={readContext:Ct,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useOpaqueIdentifier:ut,unstable_isNewReconciler:!1},cw={readContext:Ct,useCallback:function(t,e){return Kn().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:jh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nc(4,2,qg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nc(4,2,t,e)},useMemo:function(t,e){var n=Kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=$d.bind(null,Ie,t),[r.memoizedState,t]},useRef:zh,useState:bi,useDebugValue:Ld,useDeferredValue:function(t){var e=bi(t),n=e[0],r=e[1];return jh(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=bi(!1),e=t[0];return t=lw.bind(null,t[1]),zh(t),[t,e]},useMutableSource:function(t,e,n){var r=Kn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Ug(r,t,e,n)},useOpaqueIdentifier:function(){if(Ht){var t=!1,e=rw(function(){throw t||(t=!0,n("r:"+(Yu++).toString(36))),Error(x(355))}),n=bi(e)[1];return!(Ie.mode&2)&&(Ie.flags|=516,fa(5,function(){n("r:"+(Yu++).toString(36))},void 0,null)),e}return e="r:"+(Yu++).toString(36),bi(e),e},unstable_isNewReconciler:!1},dw={readContext:Ct,useCallback:Kg,useContext:Ct,useEffect:pa,useImperativeHandle:Wg,useLayoutEffect:Hg,useMemo:Gg,useReducer:Ci,useRef:ha,useState:function(){return Ci(jt)},useDebugValue:Ld,useDeferredValue:function(t){var e=Ci(jt),n=e[0],r=e[1];return pa(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Ci(jt)[0];return[ha().current,t]},useMutableSource:Vg,useOpaqueIdentifier:function(){return Ci(jt)[0]},unstable_isNewReconciler:!1},fw={readContext:Ct,useCallback:Kg,useContext:Ct,useEffect:pa,useImperativeHandle:Wg,useLayoutEffect:Hg,useMemo:Gg,useReducer:Ti,useRef:ha,useState:function(){return Ti(jt)},useDebugValue:Ld,useDeferredValue:function(t){var e=Ti(jt),n=e[0],r=e[1];return pa(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Ti(jt)[0];return[ha().current,t]},useMutableSource:Vg,useOpaqueIdentifier:function(){return Ti(jt)[0]},unstable_isNewReconciler:!1},hw=ur.ReactCurrentOwner,Lt=!1;function lt(t,e,n,r){e.child=t===null?Fg(e,null,n,r):la(e,t.child,n,r)}function Fh(t,e,n,r,i){n=n.render;var s=e.ref;return Lr(e,i),r=Md(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,en(t,e,i)):(e.flags|=1,lt(t,e,r,i),e.child)}function Bh(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Bd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Qg(t,e,o,r,i,s)):(t=qo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:hs,n(i,r)&&t.ref===e.ref)?en(t,e,s):(e.flags|=1,t=Dn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Qg(t,e,n,r,i,s){if(t!==null&&hs(t.memoizedProps,r)&&t.ref===e.ref)if(Lt=!1,(s&i)!==0)t.flags&16384&&(Lt=!0);else return e.lanes=t.lanes,en(t,e,s);return rc(t,e,n,r,s)}function el(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},_o(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},_o(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_o(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_o(e,r);return lt(t,e,i,n),e.child}function Yg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function rc(t,e,n,r,i){var s=ft(n)?er:rt.current;return s=Gr(e,s),Lr(e,i),n=Md(t,e,n,r,s,i),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,en(t,e,i)):(e.flags|=1,lt(t,e,n,i),e.child)}function Uh(t,e,n,r,i){if(ft(n)){var s=!0;Fo(e)}else s=!1;if(Lr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),zg(e,n,r),Zl(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ct(c):(c=ft(n)?er:rt.current,c=Gr(e,c));var h=n.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==c)&&Oh(e,o,r,c),cn=!1;var w=e.memoizedState;o.state=w,gs(e,r,o,i),l=e.memoizedState,u!==r||w!==l||dt.current||cn?(typeof h=="function"&&(ua(e,n,h,r),l=e.memoizedState),(u=cn||Mh(e,n,u,r,w,l,c))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Rg(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:Ot(e.type,u),o.props=c,_=e.pendingProps,w=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=ft(n)?er:rt.current,l=Gr(e,l));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||w!==l)&&Oh(e,o,r,l),cn=!1,w=e.memoizedState,o.state=w,gs(e,r,o,i);var P=e.memoizedState;u!==_||w!==P||dt.current||cn?(typeof b=="function"&&(ua(e,n,b,r),P=e.memoizedState),(c=cn||Mh(e,n,c,r,w,P,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),r=!1)}return ic(t,e,n,r,s,i)}function ic(t,e,n,r,i,s){Yg(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Ih(e,n,!1),en(t,e,s);r=e.stateNode,hw.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=la(e,t.child,null,s),e.child=la(e,null,u,s)):lt(t,e,u,s),e.memoizedState=r.state,i&&Ih(e,n,!0),e.child}function Vh(t){var e=t.stateNode;e.pendingContext?bh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bh(t,e.context,!1),ec(t,e.containerInfo)}var wo={dehydrated:null,retryLane:0};function Hh(t,e,n){var r=e.pendingProps,i=Se.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ke(Se,i&1),t===null?(r.fallback!==void 0&&tc(e),t=r.children,i=r.fallback,s?(t=qh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=wo,t):typeof r.unstable_expectedLoadTime=="number"?(t=qh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=wo,e.lanes=33554432,t):(n=Ud({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Kh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=wo,r):(n=Wh(t,e,r.children,n),e.memoizedState=null,n):s?(r=Kh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=wo,r):(n=Wh(t,e,r.children,n),e.memoizedState=null,n)}function qh(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Ud(e,i,0,null),n=zr(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Wh(t,e,n,r){var i=t.child;return t=i.sibling,n=Dn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Kh(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Dn(o,u),t!==null?r=Dn(t,r):(r=zr(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Gh(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$g(t.return,e)}function tl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Qh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(lt(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gh(t,n);else if(t.tag===19)Gh(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Se,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ca(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ca(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tl(e,!0,n,null,s,e.lastEffect);break;case"together":tl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function en(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bs|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Xg,sc,Jg,Zg;Xg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sc=function(){};Jg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wn(Vt.current);var s=null;switch(n){case"input":i=Ml(t,i),r=Ml(t,r),s=[];break;case"option":i=$l(t,i),r=$l(t,r),s=[];break;case"select":i=ye({},i,{value:void 0}),r=ye({},r,{value:void 0}),s=[];break;case"textarea":i=Rl(t,i),r=Rl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=na)}jl(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(os.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(u=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(l!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(os.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&me("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===ud?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Zg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ii(t,e){if(!Ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pw(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ft(e.type)&&ia(),null;case 3:return Yr(),ve(dt),ve(rt),Nd(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),sc(e),null;case 5:Ad(e);var i=Wn(ys.current);if(n=e.type,t!==null&&e.stateNode!=null)Jg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(x(166));return null}if(t=Wn(Vt.current),yo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hn]=e,r[ra]=s,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(t=0;t<$i.length;t++)me($i[t],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":Qf(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":Xf(r,s),me("invalid",r)}jl(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):os.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&me("scroll",r));switch(n){case"input":fo(r),Yf(r,s,!0);break;case"textarea":fo(r),Jf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=na)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===xl.html&&(t=Wm(n)),t===xl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[ra]=r,Xg(t,e,!1,!1),e.stateNode=t,o=Fl(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<$i.length;i++)me($i[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":Qf(t,r),i=Ml(t,r),me("invalid",t);break;case"option":i=$l(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ye({},r,{value:void 0}),me("invalid",t);break;case"textarea":Xf(t,r),i=Rl(t,r),me("invalid",t);break;default:i=r}jl(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Qm(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Km(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&as(t,l):typeof l=="number"&&as(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(os.hasOwnProperty(s)?l!=null&&s==="onScroll"&&me("scroll",t):l!=null&&nd(t,s,l,o))}switch(n){case"input":fo(t),Yf(t,r,!1);break;case"textarea":fo(t),Jf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+In(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=na)}bg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Zg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));n=Wn(ys.current),Wn(Vt.current),yo(e)?(r=e.stateNode,n=e.memoizedProps,r[hn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r)}return null;case 13:return ve(Se),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&yo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Se.current&1?Ve===0&&(Ve=3):((Ve===0||Ve===3)&&(Ve=4),ot===null||!(Bs&134217727)&&!(li&134217727)||Rr(ot,Ze))),(r||n)&&(e.flags|=4),null);case 4:return Yr(),sc(e),t===null&&kg(e.stateNode.containerInfo),null;case 10:return Id(e),null;case 17:return ft(e.type)&&ia(),null;case 19:if(ve(Se),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Ii(r,!1);else{if(Ve!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=ca(t),o!==null){for(e.flags|=64,Ii(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Se,Se.current&1|2),e.child}t=t.sibling}r.tail!==null&&Je()>dc&&(e.flags|=64,s=!0,Ii(r,!1),e.lanes=33554432)}else{if(!s)if(t=ca(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ii(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Ht)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Je()-r.renderingStartTime>dc&&n!==1073741824&&(e.flags|=64,s=!0,Ii(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Je(),n.sibling=null,e=Se.current,ke(Se,s?e&1|2:e&1),n):null;case 23:case 24:return Fd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(x(156,e.tag))}function mw(t){switch(t.tag){case 1:ft(t.type)&&ia();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Yr(),ve(dt),ve(rt),Nd(),e=t.flags,e&64)throw Error(x(285));return t.flags=e&-4097|64,t;case 5:return Ad(t),null;case 13:return ve(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ve(Se),null;case 4:return Yr(),null;case 10:return Id(t),null;case 23:case 24:return Fd(),null;default:return null}}function Rd(t,e){try{var n="",r=e;do n+=Qy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function oc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gw=typeof WeakMap=="function"?WeakMap:Map;function ev(t,e,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){va||(va=!0,fc=r),oc(t,e)},n}function tv(t,e,n){n=_n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return oc(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this),oc(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var vw=typeof WeakSet=="function"?WeakSet:Set;function Yh(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Cn(t,n)}else e.current=null}function yw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Ot(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&kd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(x(163))}function ww(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(cv(n,t),Iw(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Ot(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Dh(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Dh(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&bg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&sg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(x(163))}function Xh(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Gm("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Jh(t,e){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Cd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)cv(e,n);else{r=e;try{i()}catch(s){Cn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Yh(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Cn(e,s)}break;case 5:Yh(e);break;case 4:nv(t,e)}}function Zh(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ep(t){return t.tag===5||t.tag===3||t.tag===4}function tp(t){e:{for(var e=t.return;e!==null;){if(ep(e))break e;e=e.return}throw Error(x(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(x(161))}n.flags&16&&(as(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||ep(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?ac(t,n,e):uc(t,n,e)}function ac(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=na));else if(r!==4&&(t=t.child,t!==null))for(ac(t,e,n),t=t.sibling;t!==null;)ac(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}function nv(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(x(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(Jh(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Jh(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function nl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[ra]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Hm(n,r),Fl(t,i),e=Fl(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?Qm(n,u):o==="dangerouslySetInnerHTML"?Km(n,u):o==="children"?as(n,u):nd(n,o,u,e)}switch(t){case"input":Ol(n,r);break;case"textarea":qm(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Nr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Nr(n,!!r.multiple,r.defaultValue,!0):Nr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(x(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,sg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(jd=Je(),Xh(e.child,!0)),np(e);return;case 19:np(e);return;case 17:return;case 23:case 24:Xh(e,e.memoizedState!==null);return}throw Error(x(163))}function np(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vw),e.forEach(function(r){var i=Nw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _w(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Sw=Math.ceil,ga=ur.ReactCurrentDispatcher,xd=ur.ReactCurrentOwner,X=0,ot=null,Le=null,Ze=0,nr=0,lc=$n(0),Ve=0,Ha=null,ui=0,Bs=0,li=0,zd=0,cc=null,jd=0,dc=1/0;function ci(){dc=Je()+500}var q=null,va=!1,fc=null,Ft=null,Nn=!1,Ji=null,Ri=90,hc=[],pc=[],nn=null,Zi=0,mc=null,Uo=-1,Jt=0,Vo=0,es=null,Ho=!1;function gt(){return X&48?Je():Uo!==-1?Uo:Uo=Je()}function En(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Qr()===99?1:2;if(Jt===0&&(Jt=ui),uw.transition!==0){Vo!==0&&(Vo=cc!==null?cc.pendingLanes:0),t=Jt;var e=4186112&~Vo;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Qr(),X&4&&t===98?t=ea(12,Jt):(t=d1(t),t=ea(t,Jt)),t}function kn(t,e,n){if(50<Zi)throw Zi=0,mc=null,Error(x(185));if(t=qa(t,e),t===null)return null;xa(t,e,n),t===ot&&(li|=e,Ve===4&&Rr(t,Ze));var r=Qr();e===1?X&8&&!(X&48)?gc(t):(Tt(t,n),X===0&&(ci(),Gt())):(!(X&4)||r!==98&&r!==99||(nn===null?nn=new Set([t]):nn.add(t)),Tt(t,n)),cc=t}function qa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Tt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Pn(o),l=1<<u,c=s[u];if(c===-1){if(!(l&r)||l&i){c=e,mr(l);var h=he;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=ds(t,t===ot?Ze:0),e=he,r===0)n!==null&&(n!==Xu&&Xl(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Xu&&Xl(n)}e===15?(n=gc.bind(null,t),Xt===null?(Xt=[n],Bo=Td(Ua,Lg)):Xt.push(n),n=Xu):e===14?n=ms(99,gc.bind(null,t)):(n=f1(e),n=ms(n,rv.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function rv(t){if(Uo=-1,Vo=Jt=0,X&48)throw Error(x(327));var e=t.callbackNode;if(Rn()&&t.callbackNode!==e)return null;var n=ds(t,t===ot?Ze:0);if(n===0)return null;var r=n,i=X;X|=16;var s=av();(ot!==t||Ze!==r)&&(ci(),xr(t,r));do try{Cw();break}catch(u){ov(t,u)}while(1);if(bd(),ga.current=s,X=i,Le!==null?r=0:(ot=null,Ze=0,r=Ve),ui&li)xr(t,0);else if(r!==0){if(r===2&&(X|=64,t.hydrate&&(t.hydrate=!1,kd(t.containerInfo)),n=fg(t),n!==0&&(r=xi(t,n))),r===1)throw e=Ha,xr(t,0),Rr(t,n),Tt(t,Je()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(x(345));case 2:Bn(t);break;case 3:if(Rr(t,n),(n&62914560)===n&&(r=jd+500-Je(),10<r)){if(ds(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kh(Bn.bind(null,t),r);break}Bn(t);break;case 4:if(Rr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Pn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sw(n/1960))-n,10<n){t.timeoutHandle=kh(Bn.bind(null,t),n);break}Bn(t);break;case 5:Bn(t);break;default:throw Error(x(329))}}return Tt(t,Je()),t.callbackNode===e?rv.bind(null,t):null}function Rr(t,e){for(e&=~zd,e&=~li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function gc(t){if(X&48)throw Error(x(327));if(Rn(),t===ot&&t.expiredLanes&Ze){var e=Ze,n=xi(t,e);ui&li&&(e=ds(t,e),n=xi(t,e))}else e=ds(t,0),n=xi(t,e);if(t.tag!==0&&n===2&&(X|=64,t.hydrate&&(t.hydrate=!1,kd(t.containerInfo)),e=fg(t),e!==0&&(n=xi(t,e))),n===1)throw n=Ha,xr(t,0),Rr(t,e),Tt(t,Je()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bn(t),Tt(t,Je()),null}function Ew(){if(nn!==null){var t=nn;nn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Tt(e,Je())})}Gt()}function iv(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(ci(),Gt())}}function sv(t,e){var n=X;X&=-2,X|=8;try{return t(e)}finally{X=n,X===0&&(ci(),Gt())}}function _o(t,e){ke(lc,nr),nr|=e,ui|=e}function Fd(){nr=lc.current,ve(lc)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nw(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ia();break;case 3:Yr(),ve(dt),ve(rt),Nd();break;case 5:Ad(r);break;case 4:Yr();break;case 13:ve(Se);break;case 19:ve(Se);break;case 10:Id(r);break;case 23:case 24:Fd()}n=n.return}ot=t,Le=Dn(t.current,null),Ze=nr=ui=e,Ve=0,Ha=null,zd=li=Bs=0}function ov(t,e){do{var n=Le;try{if(bd(),Yi.current=ma,da){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}da=!1}if(ws=0,Be=Qe=Ie=null,Xi=!1,xd.current=null,n===null||n.return===null){Ve=1,Ha=e,Le=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=Ze,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Se.current&1)!==0,w=o;do{var b;if(b=w.tag===13){var P=w.memoizedState;if(P!==null)b=P.dehydrated!==null;else{var T=w.memoizedProps;b=T.fallback===void 0?!1:T.unstable_avoidThisFallback!==!0?!0:!_}}if(b){var v=w.updateQueue;if(v===null){var m=new Set;m.add(c),w.updateQueue=m}else v.add(c);if(!(w.mode&2)){if(w.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var g=_n(-1,1);g.tag=2,Sn(u,g)}u.lanes|=1;break e}l=void 0,u=e;var C=s.pingCache;if(C===null?(C=s.pingCache=new gw,l=new Set,C.set(c,l)):(l=C.get(c),l===void 0&&(l=new Set,C.set(c,l))),!l.has(u)){l.add(u);var a=Aw.bind(null,s,c,u);c.then(a,a)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);l=Error((Ar(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ve!==5&&(Ve=2),l=Rd(l,u),w=o;do{switch(w.tag){case 3:s=l,w.flags|=4096,e&=-e,w.lanes|=e;var f=ev(w,s,e);Nh(w,f);break e;case 1:s=l;var d=w.type,p=w.stateNode;if(!(w.flags&64)&&(typeof d.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ft===null||!Ft.has(p)))){w.flags|=4096,e&=-e,w.lanes|=e;var y=tv(w,s,e);Nh(w,y);break e}}w=w.return}while(w!==null)}lv(n)}catch(S){e=S,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(1)}function av(){var t=ga.current;return ga.current=ma,t===null?ma:t}function xi(t,e){var n=X;X|=16;var r=av();ot===t&&Ze===e||xr(t,e);do try{kw();break}catch(i){ov(t,i)}while(1);if(bd(),X=n,ga.current=r,Le!==null)throw Error(x(261));return ot=null,Ze=0,Ve}function kw(){for(;Le!==null;)uv(Le)}function Cw(){for(;Le!==null&&!sw();)uv(Le)}function uv(t){var e=dv(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?lv(t):Le=e,xd.current=null}function lv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=mw(e),n!==null){n.flags&=2047,Le=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=pw(n,e,nr),n!==null){Le=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||nr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Ve===0&&(Ve=5)}function Bn(t){var e=Qr();return tr(99,Tw.bind(null,t,e)),null}function Tw(t,e){do Rn();while(Ji!==null);if(X&48)throw Error(x(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-Pn(s),c=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~c}if(nn!==null&&!(r&24)&&nn.has(t)&&nn.delete(t),t===ot&&(Le=ot=null,Ze=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=X,X|=32,xd.current=null,Gu=xo,o=gh(),Wl(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,_=-1,w=-1,b=0,P=0,T=o,v=null;t:for(;;){for(var m;T!==u||s!==0&&T.nodeType!==3||(_=h+s),T!==l||c!==0&&T.nodeType!==3||(w=h+c),T.nodeType===3&&(h+=T.nodeValue.length),(m=T.firstChild)!==null;)v=T,T=m;for(;;){if(T===o)break t;if(v===u&&++b===s&&(_=h),v===l&&++P===c&&(w=h),(m=T.nextSibling)!==null)break;T=v,v=T.parentNode}T=m}u=_===-1||w===-1?null:{start:_,end:w}}else u=null;u=u||{start:0,end:0}}else u=null;Qu={focusedElem:o,selectionRange:u},xo=!1,es=null,Ho=!1,q=r;do try{bw()}catch(S){if(q===null)throw Error(x(330));Cn(q,S),q=q.nextEffect}while(q!==null);es=null,q=r;do try{for(o=t;q!==null;){var g=q.flags;if(g&16&&as(q.stateNode,""),g&128){var C=q.alternate;if(C!==null){var a=C.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(g&1038){case 2:tp(q),q.flags&=-3;break;case 6:tp(q),q.flags&=-3,nl(q.alternate,q);break;case 1024:q.flags&=-1025;break;case 1028:q.flags&=-1025,nl(q.alternate,q);break;case 4:nl(q.alternate,q);break;case 8:u=q,nv(o,u);var f=u.alternate;Zh(u),f!==null&&Zh(f)}q=q.nextEffect}}catch(S){if(q===null)throw Error(x(330));Cn(q,S),q=q.nextEffect}while(q!==null);if(a=Qu,C=gh(),g=a.focusedElem,o=a.selectionRange,C!==g&&g&&g.ownerDocument&&_g(g.ownerDocument.documentElement,g)){for(o!==null&&Wl(g)&&(C=o.start,a=o.end,a===void 0&&(a=C),"selectionStart"in g?(g.selectionStart=C,g.selectionEnd=Math.min(a,g.value.length)):(a=(C=g.ownerDocument||document)&&C.defaultView||window,a.getSelection&&(a=a.getSelection(),u=g.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=mh(g,f),s=mh(g,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(C=C.createRange(),C.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(C),a.extend(s.node,s.offset)):(C.setEnd(s.node,s.offset),a.addRange(C)))))),C=[],a=g;a=a.parentNode;)a.nodeType===1&&C.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<C.length;g++)a=C[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}xo=!!Gu,Qu=Gu=null,t.current=n,q=r;do try{for(g=t;q!==null;){var d=q.flags;if(d&36&&ww(g,q.alternate,q),d&128){C=void 0;var p=q.ref;if(p!==null){var y=q.stateNode;switch(q.tag){case 5:C=y;break;default:C=y}typeof p=="function"?p(C):p.current=C}}q=q.nextEffect}}catch(S){if(q===null)throw Error(x(330));Cn(q,S),q=q.nextEffect}while(q!==null);q=null,aw(),X=i}else t.current=n;if(Nn)Nn=!1,Ji=t,Ri=e;else for(q=r;q!==null;)e=q.nextEffect,q.nextEffect=null,q.flags&8&&(d=q,d.sibling=null,d.stateNode=null),q=e;if(r=t.pendingLanes,r===0&&(Ft=null),r===1?t===mc?Zi++:(Zi=0,mc=t):Zi=0,n=n.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Cd,n,void 0,(n.current.flags&64)===64)}catch{}if(Tt(t,Je()),va)throw va=!1,t=fc,fc=null,t;return X&8||Gt(),null}function bw(){for(;q!==null;){var t=q.alternate;Ho||es===null||(q.flags&8?th(q,es)&&(Ho=!0):q.tag===13&&_w(t,q)&&th(q,es)&&(Ho=!0));var e=q.flags;e&256&&yw(t,q),!(e&512)||Nn||(Nn=!0,ms(97,function(){return Rn(),null})),q=q.nextEffect}}function Rn(){if(Ri!==90){var t=97<Ri?97:Ri;return Ri=90,tr(t,Pw)}return!1}function Iw(t,e){hc.push(e,t),Nn||(Nn=!0,ms(97,function(){return Rn(),null}))}function cv(t,e){pc.push(e,t),Nn||(Nn=!0,ms(97,function(){return Rn(),null}))}function Pw(){if(Ji===null)return!1;var t=Ji;if(Ji=null,X&48)throw Error(x(331));var e=X;X|=32;var n=pc;pc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(x(330));Cn(s,l)}}for(n=hc,hc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(x(330));Cn(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return X=e,Gt(),!0}function rp(t,e,n){e=Rd(n,e),e=ev(t,e,1),Sn(t,e),e=gt(),t=qa(t,1),t!==null&&(xa(t,1,e),Tt(t,e))}function Cn(t,e){if(t.tag===3)rp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){rp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r))){t=Rd(e,t);var i=tv(n,t,1);if(Sn(n,i),i=gt(),n=qa(n,1),n!==null)xa(n,1,i),Tt(n,i);else if(typeof r.componentDidCatch=="function"&&(Ft===null||!Ft.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Aw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(Ze&n)===n&&(Ve===4||Ve===3&&(Ze&62914560)===Ze&&500>Je()-jd?xr(t,0):zd|=n),Tt(t,e)}function Nw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Jt===0&&(Jt=ui),e=gr(62914560&~Jt),e===0&&(e=4194304)):e=Qr()===99?1:2:e=1),n=gt(),t=qa(t,e),t!==null&&(xa(t,e,n),Tt(t,n))}var dv;dv=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)Lt=!0;else if(n&r)Lt=!!(t.flags&16384);else{switch(Lt=!1,e.tag){case 3:Vh(e),Zu();break;case 5:Lh(e);break;case 1:ft(e.type)&&Fo(e);break;case 4:ec(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ke(sa,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Hh(t,e,n):(ke(Se,Se.current&1),e=en(t,e,n),e!==null?e.sibling:null);ke(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Qh(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Se,Se.current),r)break;return null;case 23:case 24:return e.lanes=0,el(t,e,n)}return en(t,e,n)}else Lt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Gr(e,rt.current),Lr(e,n),i=Md(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)){var s=!0;Fo(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pd(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ua(e,r,o,t),i.updater=Va,e.stateNode=i,i._reactInternals=e,Zl(e,r,t,n),e=ic(null,e,r,!0,s,n)}else e.tag=0,lt(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Mw(i),t=Ot(i,t),s){case 0:e=rc(null,e,i,t,n);break e;case 1:e=Uh(null,e,i,t,n);break e;case 11:e=Fh(null,e,i,t,n);break e;case 14:e=Bh(null,e,i,Ot(i.type,t),r,n);break e}throw Error(x(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),rc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Uh(t,e,r,i,n);case 3:if(Vh(e),r=e.updateQueue,t===null||r===null)throw Error(x(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Rg(t,e),gs(e,r,null,n),r=e.memoizedState.element,r===i)Zu(),e=en(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(pn=Or(e.stateNode.containerInfo.firstChild),Zt=e,s=Ht=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],$r.push(s);for(n=Fg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else lt(t,e,r,n),Zu();e=e.child}return e;case 5:return Lh(e),t===null&&tc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ql(r,i)?o=null:s!==null&&Ql(r,s)&&(e.flags|=16),Yg(t,e),lt(t,e,o,n),e.child;case 6:return t===null&&tc(e),null;case 13:return Hh(t,e,n);case 4:return ec(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=la(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),Fh(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(ke(sa,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=_t(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!dt.current){e=en(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){u.tag===1&&(c=_n(-1,n&-n),c.tag=2,Sn(u,c)),u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),$g(u.return,n),l.lanes|=n;break}c=c.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Lr(e,n),i=Ct(i,s.unstable_observedBits),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return i=e.type,s=Ot(i,e.pendingProps),s=Ot(i.type,s),Bh(t,e,i,s,r,n);case 15:return Qg(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ot(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ft(r)?(t=!0,Fo(e)):t=!1,Lr(e,n),zg(e,r,i),Zl(e,r,i,n),ic(null,e,r,!0,t,n);case 19:return Qh(t,e,n);case 23:return el(t,e,n);case 24:return el(t,e,n)}throw Error(x(156,e.tag))};function Dw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new Dw(t,e,n,r)}function Bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mw(t){if(typeof t=="function")return Bd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===La)return 11;if(t===$a)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Bd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dn:return zr(n.children,i,s,e);case Bm:o=8,i|=16;break;case rd:o=8,i|=1;break;case Vi:return t=St(12,n,e,i|8),t.elementType=Vi,t.type=Vi,t.lanes=s,t;case Hi:return t=St(13,n,e,i),t.type=Hi,t.elementType=Hi,t.lanes=s,t;case Yo:return t=St(19,n,e,i),t.elementType=Yo,t.lanes=s,t;case ld:return Ud(n,i,s,e);case Dl:return t=St(24,n,e,i),t.elementType=Dl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case id:o=10;break e;case sd:o=9;break e;case La:o=11;break e;case $a:o=14;break e;case od:o=16,r=null;break e;case ad:o=22;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=St(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zr(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=St(23,t,r,e),t.elementType=ld,t.lanes=n,t}function rl(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function il(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ow(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bu(0),this.expirationTimes=Bu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.mutableSourceEagerHydrationData=null}function Lw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ya(t,e,n,r){var i=e.current,s=gt(),o=En(i);e:if(n){n=n._reactInternals;t:{if(lr(n)!==n||n.tag!==1)throw Error(x(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ft(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(x(171))}if(n.tag===1){var l=n.type;if(ft(l)){n=Pg(n,l,u);break e}}n=u}else n=An;return e.context===null?e.context=n:e.pendingContext=n,e=_n(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Sn(i,e),kn(i,o,s),o}function sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ip(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vd(t,e){ip(t,e),(t=t.alternate)&&ip(t,e)}function $w(){return null}function Hd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Ow(t,e,n!=null&&n.hydrate===!0),e=St(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Pd(e),t[ai]=n.current,kg(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Hd.prototype.render=function(t){ya(t,this._internalRoot,null,null)};Hd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;ya(null,t,null,function(){e[ai]=null})};function Us(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rw(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Hd(t,0,e?{hydrate:!0}:void 0)}function Wa(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=sl(o);u.call(c)}}ya(e,o,t,i)}else{if(s=n._reactRootContainer=Rw(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=sl(o);l.call(c)}}sv(function(){ya(e,o,t,i)})}return sl(o)}ng=function(t){if(t.tag===13){var e=gt();kn(t,4,e),Vd(t,4)}};pd=function(t){if(t.tag===13){var e=gt();kn(t,67108864,e),Vd(t,67108864)}};rg=function(t){if(t.tag===13){var e=gt(),n=En(t);kn(t,n,e),Vd(t,n)}};ig=function(t,e){return e()};Bl=function(t,e,n){switch(e){case"input":if(Ol(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ba(r);if(!i)throw Error(x(90));Vm(r),Ol(r,i)}}}break;case"textarea":qm(t,n);break;case"select":e=n.value,e!=null&&Nr(t,!!n.multiple,e,!1)}};dd=iv;Jm=function(t,e,n,r,i){var s=X;X|=4;try{return tr(98,t.bind(null,e,n,r,i))}finally{X=s,X===0&&(ci(),Gt())}};fd=function(){!(X&49)&&(Ew(),Rn())};Zm=function(t,e){var n=X;X|=2;try{return t(e)}finally{X=n,X===0&&(ci(),Gt())}};function fv(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Us(e))throw Error(x(200));return Lw(t,e,null,n)}var xw={Events:[js,Er,Ba,Ym,Xm,Rn,{current:!1}]},Pi={findFiberByHostInstance:qn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},zw={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tg(t),t===null?null:t.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||$w,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{Cd=So.inject(zw),Xn=So}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xw;It.createPortal=fv;It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):Error(x(268,Object.keys(t)));return t=tg(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t,e){var n=X;if(n&48)return t(e);X|=1;try{if(t)return tr(99,t.bind(null,e))}finally{X=n,Gt()}};It.hydrate=function(t,e,n){if(!Us(e))throw Error(x(200));return Wa(null,t,e,!0,n)};It.render=function(t,e,n){if(!Us(e))throw Error(x(200));return Wa(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!Us(t))throw Error(x(40));return t._reactRootContainer?(sv(function(){Wa(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};It.unstable_batchedUpdates=iv;It.unstable_createPortal=function(t,e){return fv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Us(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Wa(t,e,n,!1,r)};It.version="17.0.2";function hv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hv)}catch(t){console.error(t)}}hv(),xm.exports=It;var jw=xm.exports;const Fw=$s(jw);function Bw(t){const{currentNote:e,deleteNote:n,newNote:r,notes:i,setCurrentNoteId:s}=t,o=i.map((u,l)=>Me.jsx("div",{children:Me.jsxs("div",{className:`title ${u.id===e.id?"selected-note":""}`,onClick:()=>s(u.id),children:[Me.jsx("h4",{className:"text-snippet",children:u.body.split(`
`)[0]}),Me.jsx("button",{className:"delete-btn",onClick:c=>n(c,u.id),children:Me.jsx("i",{className:"gg-trash trash-icon"})})]})},u.id));return Me.jsxs("section",{className:"pane sidebar",children:[Me.jsxs("div",{className:"sidebar--header",children:[Me.jsx("h3",{children:"Notes"}),Me.jsx("button",{className:"new-note",onClick:r,children:"+"})]}),o]})}var ol={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.getBreaksNeededForEmptyLineAfter=De.getBreaksNeededForEmptyLineBefore=De.selectWord=De.getSurroundingWord=void 0;function pv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}De.getSurroundingWord=pv;function Uw(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?pv(e,n.start):n}De.selectWord=Uw;function Vw(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}De.getBreaksNeededForEmptyLineBefore=Vw;function Hw(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}De.getBreaksNeededForEmptyLineAfter=Hw;var al={},Vs={},ln={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(ln,"__esModule",{value:!0});ln.classNames=void 0;function qw(t){return typeof t=="string"}function Ww(t){return Array.isArray(t)&&t.length>0}function Kw(t){return typeof t=="object"}function mv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(qw(i))n.push(i);else if(Ww(i)){var s=mv.apply(null,i);s&&n.push(s)}else if(Kw(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}ln.classNames=mv;Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ToolbarButtonGroup=void 0;var Gw=bt,Qw=ln,Yw=function(t){return Gw.createElement("ul",{className:Qw.classNames("mde-header-group",{hidden:t.hidden})},t.children)};Vs.ToolbarButtonGroup=Yw;var Hs={},Tr=ee&&ee.__assign||function(){return Tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tr.apply(this,arguments)};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ToolbarButton=void 0;var sp=bt,Xw={tabIndex:-1},Jw=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Tr(Tr({},Xw),r||{}),l=e||"button";return sp.createElement("li",{className:"mde-header-item"},sp.createElement(l,Tr(Tr({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};Hs.ToolbarButton=Jw;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.MdeFontAwesomeIcon=void 0;var Zw=bt,e3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return Zw.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};qs.MdeFontAwesomeIcon=e3;var Ka={},t3=ee&&ee.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Ka,"__esModule",{value:!0});Ka.Preview=void 0;var Eo=bt,n3=ln,r3=function(t){t3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,c=l.preview,h=l.loading,_=h?s:c,w;typeof _=="string"?w=Eo.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:_||"<p>&nbsp;</p>"},ref:o}):w=Eo.createElement("div",{className:"mde-preview-content"},_);var b=i&&u?i+10+u:i+10;return Eo.createElement("div",{className:n3.classNames("mde-preview",r,{loading:h}),style:{minHeight:b},"data-testid":"mde-preview"},w)},e}(Eo.Component);Ka.Preview=r3;var Ga={},Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.getCaretCoordinates=void 0;var i3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],gv=typeof window<"u",s3=gv&&window.mozInnerScreenX!=null;function o3(t,e){if(!gv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",i3.forEach(function(u){r[u]=i[u]}),s3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}Qa.getCaretCoordinates=o3;var Ws={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Ws,"__esModule",{value:!0});Ws.insertText=void 0;function a3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(u3(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,c=null,h=null,_=document.createRange();u&&(c===null||h===null);){var w=u.nodeValue.length;i>=l&&i<=l+w&&_.setStart(c=u,i-l),s>=l&&s<=l+w&&_.setEnd(h=u,s-l),l+=w,u=u.nextSibling}i!==s&&_.deleteContents(),_.insertNode(o)}}else{var b=t.value;t.value=b.slice(0,i)+e+b.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var P=document.createEvent("UIEvent");P.initEvent("input",!0,!1),t.dispatchEvent(P)}}Ws.insertText=a3;function u3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.mod=void 0;function l3(t,e){return(t%e+e)%e}Ya.mod=l3;var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.SuggestionsDropdown=void 0;var op=bt,c3=ln,d3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(T){T.preventDefault();var v=parseInt(T.currentTarget.attributes["data-index"].value);i(v)},c=function(T){return T.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),_=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),w=r.left-u.current.scrollLeft,b=r.top-u.current.scrollTop,P={};return s&&b+u.current.getBoundingClientRect().top>_/2?P.bottom=u.current.offsetHeight-b:P.top=b,s&&w+u.current.getBoundingClientRect().left>h/2?P.right=u.current.offsetWidth-w:P.left=w,op.createElement("ul",{className:c3.classNames("mde-suggestions",e),style:P},n.map(function(T,v){return op.createElement("li",{onClick:l,onMouseDown:c,key:v,"aria-selected":o===v?"true":"false","data-index":""+v},T.preview)}))};Ks.SuggestionsDropdown=d3;var f3=ee&&ee.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mt=ee&&ee.__assign||function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.TextArea=void 0;var ko=bt,h3=ln,p3=Qa,m3=Ws,g3=Ya,v3=Ks,y3=function(t){f3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:mt(mt({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=p3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),m3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var _=o==="ArrowUp"?-1:1;r.setState({mention:mt(mt({},h),{focusIndex:g3.mod(h.focusIndex+_,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,c=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var _=c.charAt(r.getTextArea().selectionStart-1),w=l.includes(c.charAt(r.getTextArea().selectionStart-1));w&&r.loadEmptySuggestion(i.currentTarget,_)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:mt(mt({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:mt(mt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,_=r.loadSuggestions,w=r.suggestionsDropdownClasses,b=r.textAreaComponent,P=r.onPaste,T=r.onDrop,v=h&&h.length&&_,m=this.state.mention,g=b||"textarea",C=u&&l?u+l:u;return ko.createElement("div",{className:"mde-textarea-wrapper"},ko.createElement(g,mt({className:h3.classNames("mde-text",i),style:{height:C},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),v&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),v&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),v&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),P(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),T(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&ko.createElement(v3.SuggestionsDropdown,{classes:w,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(ko.Component);Ga.TextArea=y3;var Xa={},w3=ee&&ee.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=ee&&ee.__assign||function(){return br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},br.apply(this,arguments)};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.Toolbar=void 0;var Fn=bt,ul=ln,_3=Vs,S3=Hs,E3=function(t){w3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,_=i.writeButtonProps,w=i.previewButtonProps,b=i.buttonProps;if((!u||u.length===0)&&!o)return null;var P=Fn.createElement("div",{className:"mde-tabs"},Fn.createElement("button",br({type:"button",className:ul.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},_),r.write),Fn.createElement("button",br({type:"button",className:ul.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},w),r.preview));return Fn.createElement("div",{className:ul.classNames("mde-header",s)},!h&&P,u.map(function(T,v){return Fn.createElement(_3.ToolbarButtonGroup,{key:v,hidden:n.props.tab==="preview"},T.map(function(m,g){return Fn.createElement(S3.ToolbarButton,{key:g,name:m.commandName,buttonContent:m.buttonContent,buttonProps:br(br({},b||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:c,buttonComponentClass:m.buttonComponentClass})}))}))},e}(Fn.Component);Xa.Toolbar=E3;var Ai={},qt={},Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.headerCommand=void 0;var k3=De;function C3(t,e,n){var r=k3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Ja.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;C3(e,n,"### ")}};var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.boldCommand=void 0;var T3=De;Za.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=T3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.italicCommand=void 0;var b3=De;eu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=b3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.strikeThroughCommand=void 0;var I3=De;tu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=I3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.linkCommand=void 0;var P3=De;nu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=P3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.quoteCommand=void 0;var ll=De;ru.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=ll.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=ll.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=ll.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.codeCommand=void 0;var cl=De;iu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=cl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=cl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),c=cl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var _=i.selection.start+u+4,w=_+i.selectedText.length;n.setSelectionRange({start:_,end:w})}};var vv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=De;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(c,h){if(typeof s=="string")return u+=s.length,s+c;if(typeof s=="function"){var _=s(c,h);return u+=_.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),_=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),w=Array(_+1).join(`
`),b=n(l.selectedText,o);s.replaceSelection(""+h+b.modifiedText+w);var P=l.selectedText.indexOf(`
`)===-1?b.insertionLength:0,T=l.selection.start+c+P,v=T+b.modifiedText.length-P;s.setSelectionRange({start:T,end:v})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(vv);var su={};Object.defineProperty(su,"__esModule",{value:!0});su.imageCommand=void 0;var A3=De;su.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(A3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var ou={},au={},N3=ee&&ee.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},D3=ee&&ee.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(au,"__esModule",{value:!0});au.readFileAsync=void 0;function M3(t){return N3(this,void 0,void 0,function(){return D3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}au.readFileAsync=M3;var O3=ee&&ee.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{c(r.next(h))}catch(_){o(_)}}function l(h){try{c(r.throw(h))}catch(_){o(_)}}function c(h){h.done?s(h.value):i(h.value).then(u,l)}c((r=r.apply(t,e||[])).next())})},L3=ee&&ee.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(ou,"__esModule",{value:!0});ou.saveImageCommand=void 0;var $3=au,R3=De;function ap(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function x3(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function z3(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),u=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||u.has(c.type)||l.has(c.type.split("/")[0])})}return i}ou.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return O3(this,void 0,void 0,function(){var i,s,o,u,l,c,h,_,w,b,P,T,v,m,g,C,a,f,d,p,y,S,E,I;return L3(this,function($){switch($.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,c=o.accept,h=j3(n)?ap(s.clipboardData.items):F3(n)?ap(s.dataTransfer.items):x3(s.target.files),_=z3(h,{multiple:l,accept:c}),w=[];for(b in _)w.push(b);P=0,$.label=1;case 1:return P<w.length?(T=w[P],v=e.getState(),m=R3.getBreaksNeededForEmptyLineBefore(v.text,v.selection.start),g=Array(m+1).join(`
`),C=g+"!["+r.uploadingImage+"]()",e.replaceSelection(C),a=h[T],[4,$3.readFileAsync(a)]):[3,5];case 2:return f=$.sent(),d=u(f,a),[4,d.next()];case 3:p=$.sent().value,y=e.getState(),S=y.text.substr(v.selection.start,C.length),S===C&&(e.setSelectionRange({start:v.selection.start,end:v.selection.start+C.length}),E=p?g+"![image]("+p+")":"",I=E.length-C.length,e.replaceSelection(E),e.setSelectionRange({start:y.selection.start+I,end:y.selection.end+I})),$.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}};function j3(t){return t.event.clipboardData!==void 0}function F3(t){return t.event.dataTransfer!==void 0}Object.defineProperty(qt,"__esModule",{value:!0});qt.getDefaultSaveImageCommandName=qt.getDefaultCommandMap=qt.getDefaultToolbarCommands=void 0;var B3=Ja,U3=Za,V3=eu,H3=tu,q3=nu,W3=ru,K3=iu,dl=vv,G3=su,Q3=ou;function Y3(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}qt.getDefaultToolbarCommands=Y3;function X3(){return{header:B3.headerCommand,bold:U3.boldCommand,italic:V3.italicCommand,strikethrough:H3.strikeThroughCommand,link:q3.linkCommand,quote:W3.quoteCommand,code:K3.codeCommand,image:G3.imageCommand,"unordered-list":dl.unorderedListCommand,"ordered-list":dl.orderedListCommand,"checked-list":dl.checkedListCommand,"save-image":Q3.saveImageCommand}}qt.getDefaultCommandMap=X3;function J3(){return"save-image"}qt.getDefaultSaveImageCommandName=J3;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.enL18n=void 0;uu.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var qd={},lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.SvgIcon=void 0;var Ce=bt,Z3=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),e_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),t_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),n_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),r_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),i_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),s_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),o_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),a_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),u_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),l_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),c_=function(t){var e=t.icon;switch(e){case"header":return u_;case"bold":return l_;case"italic":return a_;case"strikethrough":return o_;case"link":return s_;case"quote":return i_;case"code":return r_;case"image":return n_;case"unordered-list":return t_;case"ordered-list":return e_;case"checked-list":return Z3;default:return null}};lu.SvgIcon=c_;(function(t){var e=ee&&ee.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ee&&ee.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(qs,t),n(lu,t)})(qd);var Qt={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.extractKeyActivatedCommands=void 0;function d_(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}cu.extractKeyActivatedCommands=d_;var up;function f_(){if(up)return Qt;up=1;var t=ee&&ee.__assign||function(){return t=Object.assign||function(h){for(var _,w=1,b=arguments.length;w<b;w++){_=arguments[w];for(var P in _)Object.prototype.hasOwnProperty.call(_,P)&&(h[P]=_[P])}return h},t.apply(this,arguments)},e=ee&&ee.__awaiter||function(h,_,w,b){function P(T){return T instanceof w?T:new w(function(v){v(T)})}return new(w||(w=Promise))(function(T,v){function m(a){try{C(b.next(a))}catch(f){v(f)}}function g(a){try{C(b.throw(a))}catch(f){v(f)}}function C(a){a.done?T(a.value):P(a.value).then(m,g)}C((b=b.apply(h,_||[])).next())})},n=ee&&ee.__generator||function(h,_){var w={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},b,P,T,v;return v={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function m(C){return function(a){return g([C,a])}}function g(C){if(b)throw new TypeError("Generator is already executing.");for(;w;)try{if(b=1,P&&(T=C[0]&2?P.return:C[0]?P.throw||((T=P.return)&&T.call(P),0):P.next)&&!(T=T.call(P,C[1])).done)return T;switch(P=0,T&&(C=[C[0]&2,T.value]),C[0]){case 0:case 1:T=C;break;case 4:return w.label++,{value:C[1],done:!1};case 5:w.label++,P=C[1],C=[0];continue;case 7:C=w.ops.pop(),w.trys.pop();continue;default:if(T=w.trys,!(T=T.length>0&&T[T.length-1])&&(C[0]===6||C[0]===2)){w=0;continue}if(C[0]===3&&(!T||C[1]>T[0]&&C[1]<T[3])){w.label=C[1];break}if(C[0]===6&&w.label<T[1]){w.label=T[1],T=C;break}if(T&&w.label<T[2]){w.label=T[2],w.ops.push(C);break}T[2]&&w.ops.pop(),w.trys.pop();continue}C=_.call(h,w)}catch(a){C=[6,a],P=0}finally{b=T=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.CommandOrchestrator=Qt.getStateFromTextArea=Qt.TextAreaTextApi=void 0;var r=wv(),i=Ws,s=cu,o=qt,u=function(){function h(_){this.textAreaRef=_}return h.prototype.replaceSelection=function(_){var w=this.textAreaRef.current;return i.insertText(w,_),l(w)},h.prototype.setSelectionRange=function(_){var w=this.textAreaRef.current;return w.focus(),w.selectionStart=_.start,w.selectionEnd=_.end,l(w)},h.prototype.getState=function(){var _=this.textAreaRef.current;return l(_)},h}();Qt.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}Qt.getStateFromTextArea=l;var c=function(){function h(_,w,b,P){var T=this;if(this.getCommand=function(v){var m=T.commandMap[v];if(!m)throw new Error("Cannot execute command. Command not found: "+v);return m},this.handlePossibleKeyCommand=function(v){for(var m=0,g=T.keyActivatedCommands;m<g.length;m++){var C=g[m];if(T.getCommand(C).handleKeyCommand(v))return T.executeCommand(C).then(function(a){}),!0}return!1},P&&!P.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),_||{}),this.pasteOptions=P,this.keyActivatedCommands=s.extractKeyActivatedCommands(_),this.textAreaRef=w,this.textApi=new u(w),this.l18n=b}return h.prototype.executeCommand=function(_,w){return e(this,void 0,void 0,function(){var b,P;return n(this,function(T){switch(T.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,b=this.commandMap[_],P=b.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:w}),[4,P]);case 1:return T.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(w){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeDropCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(w){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeSelectImageCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(w){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.getCommandByName=function(_){return this.commandMap[_]},h}();return Qt.CommandOrchestrator=c,Qt}var lp;function h_(){if(lp)return Ai;lp=1;var t=ee&&ee.__extends||function(){var b=function(P,T){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(v[g]=m[g])},b(P,T)};return function(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");b(P,T);function v(){this.constructor=P}P.prototype=T===null?Object.create(T):(v.prototype=T.prototype,new v)}}(),e=ee&&ee.__assign||function(){return e=Object.assign||function(b){for(var P,T=1,v=arguments.length;T<v;T++){P=arguments[T];for(var m in P)Object.prototype.hasOwnProperty.call(P,m)&&(b[m]=P[m])}return b},e.apply(this,arguments)},n=ee&&ee.__awaiter||function(b,P,T,v){function m(g){return g instanceof T?g:new T(function(C){C(g)})}return new(T||(T=Promise))(function(g,C){function a(p){try{d(v.next(p))}catch(y){C(y)}}function f(p){try{d(v.throw(p))}catch(y){C(y)}}function d(p){p.done?g(p.value):m(p.value).then(a,f)}d((v=v.apply(b,P||[])).next())})},r=ee&&ee.__generator||function(b,P){var T={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},v,m,g,C;return C={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function a(d){return function(p){return f([d,p])}}function f(d){if(v)throw new TypeError("Generator is already executing.");for(;T;)try{if(v=1,m&&(g=d[0]&2?m.return:d[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,d[1])).done)return g;switch(m=0,g&&(d=[d[0]&2,g.value]),d[0]){case 0:case 1:g=d;break;case 4:return T.label++,{value:d[1],done:!1};case 5:T.label++,m=d[1],d=[0];continue;case 7:d=T.ops.pop(),T.trys.pop();continue;default:if(g=T.trys,!(g=g.length>0&&g[g.length-1])&&(d[0]===6||d[0]===2)){T=0;continue}if(d[0]===3&&(!g||d[1]>g[0]&&d[1]<g[3])){T.label=d[1];break}if(d[0]===6&&T.label<g[1]){T.label=g[1],g=d;break}if(g&&T.label<g[2]){T.label=g[2],T.ops.push(d);break}g[2]&&T.ops.pop(),T.trys.pop();continue}d=P.call(b,T)}catch(p){d=[6,p],m=0}finally{v=g=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.ReactMde=void 0;var i=bt,s=yv(),o=qt,u=uu,l=qd,c=ln,h=f_(),_={accept:"image/*",multiple:!1},w=function(b){t(P,b);function P(T){var v,m=b.call(this,T)||this;m.handleTextChange=function(C){var a=m.props.onChange;a(C)},m.handlePaste=function(C){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(C)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(C){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(C)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(C){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(C)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(C){var a=m.props.onTabChange;a(C)},m.handleCommand=function(C){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(C)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},T.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},_),m.props.paste):void 0);var g=Math.min(T.maxEditorHeight,T.minEditorHeight);return m.state={editorHeight:(v=T.initialEditorHeight)!==null&&v!==void 0?v:g},m}return P.prototype.render=function(){var T=this,v,m,g=this.props,C=g.getIcon,a=g.toolbarCommands,f=g.classes,d=g.loadingPreview,p=g.readOnly,y=g.disablePreview,S=g.value,E=g.l18n,I=g.minPreviewHeight,$=g.heightUnits,N=g.childProps,M=g.selectedTab,O=g.generateMarkdownPreview,k=g.loadSuggestions,D=g.suggestionTriggerCharacters,U=g.textAreaComponent,V=N||{},ie=a.map(function(A){return A.map(function(H){var W=T.commandOrchestrator.getCommand(H);return{commandName:H,buttonContent:W.icon?W.icon(C):C(H),buttonProps:W.buttonProps,buttonComponentClass:W.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:ie,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:M,readOnly:p,disablePreview:y,l18n:E,buttonProps:V.commandButtons,writeButtonProps:V.writeButton,previewButtonProps:V.previewButton}),i.createElement("div",{className:c.classNames({invisible:M!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:U,textAreaProps:N&&N.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:S,suggestionTriggerCharacters:D,loadSuggestions:k,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(v=this.props.paste.accept)!==null&&v!==void 0?v:_.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:_.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,E.pasteDropSelect))),M!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:I,heightUnits:$,generateMarkdownPreview:O,markdown:S}))},P.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(T){return i.createElement(l.SvgIcon,{icon:T})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},P}(i.Component);return Ai.ReactMde=w,Ai}var cp;function yv(){return cp||(cp=1,function(t){var e=ee&&ee.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=ee&&ee.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vs,t),n(Hs,t),n(qs,t),n(Ka,t),n(Ga,t),n(Xa,t),n(h_(),t),n(Ks,t)}(al)),al}var dp;function wv(){return dp||(dp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=De;t.MarkdownUtil=e;var n=yv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=qd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=qt;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(ol)),ol}var p_=wv();const m_=$s(p_);var _v={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var d={};for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p].defaultValue);return d}function n(){var a=e(!0),f={};for(var d in a)a.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,a);if(d.valid)s[a]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function c(a,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var y=0;y<a.length;++y){var S=d+" sub-extension "+y+": ",E=a[y];if(typeof E!="object")return p.valid=!1,p.error=S+"must be an object, but "+typeof E+" given",p;if(!r.helper.isString(E.type))return p.valid=!1,p.error=S+'property "type" must be a string, but '+typeof E.type+" given",p;var I=E.type=E.type.toLowerCase();if(I==="language"&&(I=E.type="lang"),I==="html"&&(I=E.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return p.valid=!1,p.error=S+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(I==="listener"){if(r.helper.isUndefined(E.listeners))return p.valid=!1,p.error=S+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(E.filter)&&r.helper.isUndefined(E.regex))return p.valid=!1,p.error=S+I+' extensions must define either a "regex" property or a "filter" method',p;if(E.listeners){if(typeof E.listeners!="object")return p.valid=!1,p.error=S+'"listeners" property must be an object but '+typeof E.listeners+" given",p;for(var $ in E.listeners)if(E.listeners.hasOwnProperty($)&&typeof E.listeners[$]!="function")return p.valid=!1,p.error=S+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+$+" must be a function but "+typeof E.listeners[$]+" given",p}if(E.filter){if(typeof E.filter!="function")return p.valid=!1,p.error=S+'"filter" must be a function, but '+typeof E.filter+" given",p}else if(E.regex){if(r.helper.isString(E.regex)&&(E.regex=new RegExp(E.regex,"g")),!(E.regex instanceof RegExp))return p.valid=!1,p.error=S+'"regex" property must either be a string or a RegExp object, but '+typeof E.regex+" given",p;if(r.helper.isUndefined(E.replace))return p.valid=!1,p.error=S+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=c(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var d=0;d<a.length;d++)f(a[d],d,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,d){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(p="\\\\"+p);var y=new RegExp(p,"g");return a=a.replace(y,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var _=function(a,f,d,p){var y=p||"",S=y.indexOf("g")>-1,E=new RegExp(f+"|"+d,"g"+y.replace(/g/g,"")),I=new RegExp(f,y.replace(/g/g,"")),$=[],N,M,O,k,D;do for(N=0;O=E.exec(a);)if(I.test(O[0]))N++||(M=E.lastIndex,k=M-O[0].length);else if(N&&!--N){D=O.index+O[0].length;var U={left:{start:k,end:M},match:{start:M,end:O.index},right:{start:O.index,end:D},wholeMatch:{start:k,end:D}};if($.push(U),!S)return $}while(N&&(E.lastIndex=M));return $};r.helper.matchRecursiveRegExp=function(a,f,d,p){for(var y=_(a,f,d,p),S=[],E=0;E<y.length;++E)S.push([a.slice(y[E].wholeMatch.start,y[E].wholeMatch.end),a.slice(y[E].match.start,y[E].match.end),a.slice(y[E].left.start,y[E].left.end),a.slice(y[E].right.start,y[E].right.end)]);return S},r.helper.replaceRecursiveRegExp=function(a,f,d,p,y){if(!r.helper.isFunction(f)){var S=f;f=function(){return S}}var E=_(a,d,p,y),I=a,$=E.length;if($>0){var N=[];E[0].wholeMatch.start!==0&&N.push(a.slice(0,E[0].wholeMatch.start));for(var M=0;M<$;++M)N.push(f(a.slice(E[M].wholeMatch.start,E[M].wholeMatch.end),a.slice(E[M].match.start,E[M].match.end),a.slice(E[M].left.start,E[M].left.end),a.slice(E[M].right.start,E[M].right.end))),M<$-1&&N.push(a.slice(E[M].wholeMatch.end,E[M+1].wholeMatch.start));E[$-1].wholeMatch.end<a.length&&N.push(a.slice(E[$-1].wholeMatch.end)),I=N.join("")}return I},r.helper.regexIndexOf=function(a,f,d){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(d||0).search(f);return p>=0?p+(d||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return a=a.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var p=Math.random();d=p>.9?f[2](d):p>.45?f[1](d):f[0](d)}return d}),a},r.helper.padEnd=function(f,d,p){return d=d>>0,p=String(p||" "),f.length>d?String(f):(d=d-f.length,d>p.length&&(p+=p.repeat(d/p.length)),String(f)+p.slice(0,d))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},d=[],p=[],y={},S=u,E={parsed:{},raw:"",format:""};I();function I(){a=a||{};for(var k in o)o.hasOwnProperty(k)&&(f[k]=o[k]);if(typeof a=="object")for(var D in a)a.hasOwnProperty(D)&&(f[D]=a[D]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,$)}function $(k,D){if(D=D||null,r.helper.isString(k))if(k=r.helper.stdExtName(k),D=k,r.extensions[k]){console.warn("DEPRECATION WARNING: "+k+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),N(r.extensions[k],k);return}else if(!r.helper.isUndefined(s[k]))k=s[k];else throw Error('Extension "'+k+'" could not be loaded. It was either not found or is not a valid extension.');typeof k=="function"&&(k=k()),r.helper.isArray(k)||(k=[k]);var U=c(k,D);if(!U.valid)throw Error(U.error);for(var V=0;V<k.length;++V){switch(k[V].type){case"lang":d.push(k[V]);break;case"output":p.push(k[V]);break}if(k[V].hasOwnProperty("listeners"))for(var ie in k[V].listeners)k[V].listeners.hasOwnProperty(ie)&&M(ie,k[V].listeners[ie])}}function N(k,D){typeof k=="function"&&(k=k(new r.Converter)),r.helper.isArray(k)||(k=[k]);var U=c(k,D);if(!U.valid)throw Error(U.error);for(var V=0;V<k.length;++V)switch(k[V].type){case"lang":d.push(k[V]);break;case"output":p.push(k[V]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(k,D){if(!r.helper.isString(k))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof k+" given");if(typeof D!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof D+" given");y.hasOwnProperty(k)||(y[k]=[]),y[k].push(D)}function O(k){var D=k.match(/^\s*/)[0].length,U=new RegExp("^\\s{0,"+D+"}","gm");return k.replace(U,"")}this._dispatch=function(D,U,V,ie){if(y.hasOwnProperty(D))for(var A=0;A<y[D].length;++A){var H=y[D][A](D,U,this,V,ie);H&&typeof H<"u"&&(U=H)}return U},this.listen=function(k,D){return M(k,D),this},this.makeHtml=function(k){if(!k)return k;var D={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return k=k.replace(//g,"T"),k=k.replace(/\$/g,"D"),k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(k=O(k)),k=`

`+k+`

`,k=r.subParser("detab")(k,f,D),k=k.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(U){k=r.subParser("runExtension")(U,k,f,D)}),k=r.subParser("metadata")(k,f,D),k=r.subParser("hashPreCodeTags")(k,f,D),k=r.subParser("githubCodeBlocks")(k,f,D),k=r.subParser("hashHTMLBlocks")(k,f,D),k=r.subParser("hashCodeTags")(k,f,D),k=r.subParser("stripLinkDefinitions")(k,f,D),k=r.subParser("blockGamut")(k,f,D),k=r.subParser("unhashHTMLSpans")(k,f,D),k=r.subParser("unescapeSpecialChars")(k,f,D),k=k.replace(/D/g,"$$"),k=k.replace(/T/g,""),k=r.subParser("completeHTMLDocument")(k,f,D),r.helper.forEach(p,function(U){k=r.subParser("runExtension")(U,k,f,D)}),E=D.metadata,k},this.makeMarkdown=this.makeMd=function(k,D){if(k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/>[ \t]+</,">NBSP;<"),!D)if(window&&window.document)D=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var U=D.createElement("div");U.innerHTML=k;var V={preList:te(U)};W(U);for(var ie=U.childNodes,A="",H=0;H<ie.length;H++)A+=r.subParser("makeMarkdown.node")(ie[H],V);function W(re){for(var pe=0;pe<re.childNodes.length;++pe){var we=re.childNodes[pe];we.nodeType===3?/\S/.test(we.nodeValue)?(we.nodeValue=we.nodeValue.split(`
`).join(" "),we.nodeValue=we.nodeValue.replace(/(\s)+/g,"$1")):(re.removeChild(we),--pe):we.nodeType===1&&W(we)}}function te(re){for(var pe=re.querySelectorAll("pre"),we=[],z=0;z<pe.length;++z)if(pe[z].childElementCount===1&&pe[z].firstChild.tagName.toLowerCase()==="code"){var L=pe[z].firstChild.innerHTML.trim(),j=pe[z].firstChild.getAttribute("data-language")||"";if(j==="")for(var G=pe[z].firstChild.className.split(" "),be=0;be<G.length;++be){var _e=G[be].match(/^language-(.+)$/);if(_e!==null){j=_e[1];break}}L=r.helper.unescapeHTMLEntities(L),we.push(L),pe[z].outerHTML='<precode language="'+j+'" precodenum="'+z.toString()+'"></precode>'}else we.push(pe[z].innerHTML),pe[z].innerHTML="",pe[z].setAttribute("prenum",z.toString());return we}return A},this.setOption=function(k,D){f[k]=D},this.getOption=function(k){return f[k]},this.getOptions=function(){return f},this.addExtension=function(k,D){D=D||null,$(k,D)},this.useExtension=function(k){$(k)},this.setFlavor=function(k){if(!l.hasOwnProperty(k))throw Error(k+" flavor was not found");var D=l[k];S=k;for(var U in D)D.hasOwnProperty(U)&&(f[U]=D[U])},this.getFlavor=function(){return S},this.removeExtension=function(k){r.helper.isArray(k)||(k=[k]);for(var D=0;D<k.length;++D){for(var U=k[D],V=0;V<d.length;++V)d[V]===U&&d[V].splice(V,1);for(var ie=0;ie<p.length;++V)p[ie]===U&&p[ie].splice(V,1)}},this.getAllExtensions=function(){return{language:d,output:p}},this.getMetadata=function(k){return k?E.raw:E.parsed},this.getMetadataFormat=function(){return E.format},this._setMetadataPair=function(k,D){E.parsed[k]=D},this._setMetadataFormat=function(k){E.format=k},this._setMetadataRaw=function(k){E.raw=k}},r.subParser("anchors",function(a,f,d){a=d.converter._dispatch("anchors.before",a,f,d);var p=function(y,S,E,I,$,N,M){if(r.helper.isUndefined(M)&&(M=""),E=E.toLowerCase(),y.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(E||(E=S.toLowerCase().replace(/ ?\n/g," ")),I="#"+E,!r.helper.isUndefined(d.gUrls[E]))I=d.gUrls[E],r.helper.isUndefined(d.gTitles[E])||(M=d.gTitles[E]);else return y;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O='<a href="'+I+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),O+=' title="'+M+'"'),f.openLinksInNewWindow&&!/^#/.test(I)&&(O+=' rel="noopener noreferrer" target="E95Eblank"'),O+=">"+S+"</a>",O};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(y,S,E,I,$){if(E==="\\")return S+I;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var N=f.ghMentionsLink.replace(/\{u}/g,$),M="";return f.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),S+'<a href="'+N+'"'+M+">"+I+"</a>"})),a=d.converter._dispatch("anchors.after",a,f,d),a});var w=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,b=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,P=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,T=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,v=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,d,p,y,S,E,I){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var $=p,N="",M="",O=d||"",k=I||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&E&&(N=E),a.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),O+'<a href="'+p+'"'+M+">"+$+"</a>"+N+k}},g=function(a,f){return function(d,p,y){var S="mailto:";return p=p||"",y=r.subParser("unescapeSpecialChars")(y,a,f),a.encodeEmails?(S=r.helper.encodeEmailAddress(S+y),y=r.helper.encodeEmailAddress(y)):S=S+y,p+'<a href="'+S+'">'+y+"</a>"}};r.subParser("autoLinks",function(a,f,d){return a=d.converter._dispatch("autoLinks.before",a,f,d),a=a.replace(P,m(f)),a=a.replace(v,g(f,d)),a=d.converter._dispatch("autoLinks.after",a,f,d),a}),r.subParser("simplifiedAutoLinks",function(a,f,d){return f.simplifiedAutoLink&&(a=d.converter._dispatch("simplifiedAutoLinks.before",a,f,d),f.excludeTrailingPunctuationFromURLs?a=a.replace(b,m(f)):a=a.replace(w,m(f)),a=a.replace(T,g(f,d)),a=d.converter._dispatch("simplifiedAutoLinks.after",a,f,d)),a}),r.subParser("blockGamut",function(a,f,d){return a=d.converter._dispatch("blockGamut.before",a,f,d),a=r.subParser("blockQuotes")(a,f,d),a=r.subParser("headers")(a,f,d),a=r.subParser("horizontalRule")(a,f,d),a=r.subParser("lists")(a,f,d),a=r.subParser("codeBlocks")(a,f,d),a=r.subParser("tables")(a,f,d),a=r.subParser("hashHTMLBlocks")(a,f,d),a=r.subParser("paragraphs")(a,f,d),a=d.converter._dispatch("blockGamut.after",a,f,d),a}),r.subParser("blockQuotes",function(a,f,d){a=d.converter._dispatch("blockQuotes.before",a,f,d),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(y){return y=y.replace(/^[ \t]*>[ \t]?/gm,""),y=y.replace(/0/g,""),y=y.replace(/^[ \t]+$/gm,""),y=r.subParser("githubCodeBlocks")(y,f,d),y=r.subParser("blockGamut")(y,f,d),y=y.replace(/(^|\n)/g,"$1  "),y=y.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(S,E){var I=E;return I=I.replace(/^  /mg,"0"),I=I.replace(/0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+y+`
</blockquote>`,f,d)}),a=d.converter._dispatch("blockQuotes.after",a,f,d),a}),r.subParser("codeBlocks",function(a,f,d){a=d.converter._dispatch("codeBlocks.before",a,f,d),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(y,S,E){var I=S,$=E,N=`
`;return I=r.subParser("outdent")(I,f,d),I=r.subParser("encodeCode")(I,f,d),I=r.subParser("detab")(I,f,d),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(N=""),I="<pre><code>"+I+N+"</code></pre>",r.subParser("hashBlock")(I,f,d)+$}),a=a.replace(/0/,""),a=d.converter._dispatch("codeBlocks.after",a,f,d),a}),r.subParser("codeSpans",function(a,f,d){return a=d.converter._dispatch("codeSpans.before",a,f,d),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,y,S,E){var I=E;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,f,d),I=y+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,f,d),I}),a=d.converter._dispatch("codeSpans.after",a,f,d),a}),r.subParser("completeHTMLDocument",function(a,f,d){if(!f.completeHTMLDocument)return a;a=d.converter._dispatch("completeHTMLDocument.before",a,f,d);var p="html",y=`<!DOCTYPE HTML>
`,S="",E=`<meta charset="utf-8">
`,I="",$="";typeof d.metadata.parsed.doctype<"u"&&(y="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,p=d.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(E='<meta charset="utf-8">'));for(var N in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(N))switch(N.toLowerCase()){case"doctype":break;case"title":S="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?E='<meta charset="'+d.metadata.parsed.charset+`">
`:E='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+d.metadata.parsed[N]+'"',$+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`;break;default:$+='<meta name="'+N+'" content="'+d.metadata.parsed[N]+`">
`}return a=y+"<html"+I+`>
<head>
`+S+E+$+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=d.converter._dispatch("completeHTMLDocument.after",a,f,d),a}),r.subParser("detab",function(a,f,d){return a=d.converter._dispatch("detab.before",a,f,d),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,y){for(var S=y,E=4-S.length%4,I=0;I<E;I++)S+=" ";return S}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=d.converter._dispatch("detab.after",a,f,d),a}),r.subParser("ellipsis",function(a,f,d){return a=d.converter._dispatch("ellipsis.before",a,f,d),a=a.replace(/\.\.\./g,""),a=d.converter._dispatch("ellipsis.after",a,f,d),a}),r.subParser("emoji",function(a,f,d){if(!f.emoji)return a;a=d.converter._dispatch("emoji.before",a,f,d);var p=/:([\S]+?):/g;return a=a.replace(p,function(y,S){return r.helper.emojis.hasOwnProperty(S)?r.helper.emojis[S]:y}),a=d.converter._dispatch("emoji.after",a,f,d),a}),r.subParser("encodeAmpsAndAngles",function(a,f,d){return a=d.converter._dispatch("encodeAmpsAndAngles.before",a,f,d),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=d.converter._dispatch("encodeAmpsAndAngles.after",a,f,d),a}),r.subParser("encodeBackslashEscapes",function(a,f,d){return a=d.converter._dispatch("encodeBackslashEscapes.before",a,f,d),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeBackslashEscapes.after",a,f,d),a}),r.subParser("encodeCode",function(a,f,d){return a=d.converter._dispatch("encodeCode.before",a,f,d),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("encodeCode.after",a,f,d),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,d){a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,d);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,y=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(S){return S.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(y,function(S){return S.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,d),a}),r.subParser("githubCodeBlocks",function(a,f,d){return f.ghCodeBlocks?(a=d.converter._dispatch("githubCodeBlocks.before",a,f,d),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,y,S,E){var I=f.omitExtraWLInCodeBlocks?"":`
`;return E=r.subParser("encodeCode")(E,f,d),E=r.subParser("detab")(E,f,d),E=E.replace(/^\n+/g,""),E=E.replace(/\n+$/g,""),E="<pre><code"+(S?' class="'+S+" language-"+S+'"':"")+">"+E+I+"</code></pre>",E=r.subParser("hashBlock")(E,f,d),`

G`+(d.ghCodeBlocks.push({text:p,codeblock:E})-1)+`G

`}),a=a.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",a,f,d)):a}),r.subParser("hashBlock",function(a,f,d){return a=d.converter._dispatch("hashBlock.before",a,f,d),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(d.gHtmlBlocks.push(a)-1)+`K

`,a=d.converter._dispatch("hashBlock.after",a,f,d),a}),r.subParser("hashCodeTags",function(a,f,d){a=d.converter._dispatch("hashCodeTags.before",a,f,d);var p=function(y,S,E,I){var $=E+r.subParser("encodeCode")(S,f,d)+I;return"C"+(d.gHtmlSpans.push($)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=d.converter._dispatch("hashCodeTags.after",a,f,d),a}),r.subParser("hashElement",function(a,f,d){return function(p,y){var S=y;return S=S.replace(/\n\n/g,`
`),S=S.replace(/^\n/,""),S=S.replace(/\n+$/g,""),S=`

K`+(d.gHtmlBlocks.push(S)-1)+`K

`,S}}),r.subParser("hashHTMLBlocks",function(a,f,d){a=d.converter._dispatch("hashHTMLBlocks.before",a,f,d);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],y=function(k,D,U,V){var ie=k;return U.search(/\bmarkdown\b/)!==-1&&(ie=U+d.converter.makeHtml(D)+V),`

K`+(d.gHtmlBlocks.push(ie)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(k,D){return"&lt;"+D+"&gt;"}));for(var S=0;S<p.length;++S)for(var E,I=new RegExp("^ {0,3}(<"+p[S]+"\\b[^>]*>)","im"),$="<"+p[S]+"\\b[^>]*>",N="</"+p[S]+">";(E=r.helper.regexIndexOf(a,I))!==-1;){var M=r.helper.splitAtIndex(a,E),O=r.helper.replaceRecursiveRegExp(M[1],y,$,N,"im");if(O===M[1])break;a=M[0].concat(O)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=r.helper.replaceRecursiveRegExp(a,function(k){return`

K`+(d.gHtmlBlocks.push(k)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,d)),a=d.converter._dispatch("hashHTMLBlocks.after",a,f,d),a}),r.subParser("hashHTMLSpans",function(a,f,d){a=d.converter._dispatch("hashHTMLSpans.before",a,f,d);function p(y){return"C"+(d.gHtmlSpans.push(y)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(y){return p(y)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(y){return p(y)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(y){return p(y)}),a=a.replace(/<[^>]+?>/gi,function(y){return p(y)}),a=d.converter._dispatch("hashHTMLSpans.after",a,f,d),a}),r.subParser("unhashHTMLSpans",function(a,f,d){a=d.converter._dispatch("unhashHTMLSpans.before",a,f,d);for(var p=0;p<d.gHtmlSpans.length;++p){for(var y=d.gHtmlSpans[p],S=0;/C(\d+)C/.test(y);){var E=RegExp.$1;if(y=y.replace("C"+E+"C",d.gHtmlSpans[E]),S===10){console.error("maximum nesting of 10 spans reached!!!");break}++S}a=a.replace("C"+p+"C",y)}return a=d.converter._dispatch("unhashHTMLSpans.after",a,f,d),a}),r.subParser("hashPreCodeTags",function(a,f,d){a=d.converter._dispatch("hashPreCodeTags.before",a,f,d);var p=function(y,S,E,I){var $=E+r.subParser("encodeCode")(S,f,d)+I;return`

G`+(d.ghCodeBlocks.push({text:y,codeblock:$})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=d.converter._dispatch("hashPreCodeTags.after",a,f,d),a}),r.subParser("headers",function(a,f,d){a=d.converter._dispatch("headers.before",a,f,d);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),y=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,S=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(y,function($,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+I(N)+'"',k=p,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)}),a=a.replace(S,function($,N){var M=r.subParser("spanGamut")(N,f,d),O=f.noHeaderId?"":' id="'+I(N)+'"',k=p+1,D="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(D,f,d)});var E=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(E,function($,N,M){var O=M;f.customizedHeaderId&&(O=M.replace(/\s?\{([^{]+?)}\s*$/,""));var k=r.subParser("spanGamut")(O,f,d),D=f.noHeaderId?"":' id="'+I(M)+'"',U=p-1+N.length,V="<h"+U+D+">"+k+"</h"+U+">";return r.subParser("hashBlock")(V,f,d)});function I($){var N,M;if(f.customizedHeaderId){var O=$.match(/\{([^{]+?)}\s*$/);O&&O[1]&&($=O[1])}return N=$,r.helper.isString(f.prefixHeaderId)?M=f.prefixHeaderId:f.prefixHeaderId===!0?M="section-":M="",f.rawPrefixHeaderId||(N=M+N),f.ghCompatibleHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?N=N.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():N=N.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(N=M+N),d.hashLinkCounts[N]?N=N+"-"+d.hashLinkCounts[N]++:d.hashLinkCounts[N]=1,N}return a=d.converter._dispatch("headers.after",a,f,d),a}),r.subParser("horizontalRule",function(a,f,d){a=d.converter._dispatch("horizontalRule.before",a,f,d);var p=r.subParser("hashBlock")("<hr />",f,d);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=d.converter._dispatch("horizontalRule.after",a,f,d),a}),r.subParser("images",function(a,f,d){a=d.converter._dispatch("images.before",a,f,d);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,y=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,E=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function $(M,O,k,D,U,V,ie,A){return D=D.replace(/\s/g,""),N(M,O,k,D,U,V,ie,A)}function N(M,O,k,D,U,V,ie,A){var H=d.gUrls,W=d.gTitles,te=d.gDimensions;if(k=k.toLowerCase(),A||(A=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)D="";else if(D===""||D===null)if((k===""||k===null)&&(k=O.toLowerCase().replace(/ ?\n/g," ")),D="#"+k,!r.helper.isUndefined(H[k]))D=H[k],r.helper.isUndefined(W[k])||(A=W[k]),r.helper.isUndefined(te[k])||(U=te[k].width,V=te[k].height);else return M;O=O.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var re='<img src="'+D+'" alt="'+O+'"';return A&&r.helper.isString(A)&&(A=A.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),re+=' title="'+A+'"'),U&&V&&(U=U==="*"?"auto":U,V=V==="*"?"auto":V,re+=' width="'+U+'"',re+=' height="'+V+'"'),re+=" />",re}return a=a.replace(E,N),a=a.replace(S,$),a=a.replace(y,N),a=a.replace(p,N),a=a.replace(I,N),a=d.converter._dispatch("images.after",a,f,d),a}),r.subParser("italicsAndBold",function(a,f,d){a=d.converter._dispatch("italicsAndBold.before",a,f,d);function p(y,S,E){return S+y+E}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(y,S){return p(S,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(y,S){return p(S,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(y,S){return p(S,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(y,S){return/\S$/.test(S)?p(S,"<strong><em>","</em></strong>"):y}),a=a.replace(/__(\S[\s\S]*?)__/g,function(y,S){return/\S$/.test(S)?p(S,"<strong>","</strong>"):y}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(y,S){return/\S$/.test(S)?p(S,"<em>","</em>"):y})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(y,S,E){return p(E,S+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(y,S,E){return p(E,S+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(y,S,E){return p(E,S+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(y,S){return/\S$/.test(S)?p(S,"<strong><em>","</em></strong>"):y}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(y,S){return/\S$/.test(S)?p(S,"<strong>","</strong>"):y}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(y,S){return/\S$/.test(S)?p(S,"<em>","</em>"):y})),a=d.converter._dispatch("italicsAndBold.after",a,f,d),a}),r.subParser("lists",function(a,f,d){function p(E,I){d.gListLevel++,E=E.replace(/\n{2,}$/,`
`),E+="0";var $=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,N=/\n[ \t]*\n(?!0)/.test(E);return f.disableForced4SpacesIndentedSublists&&($=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),E=E.replace($,function(M,O,k,D,U,V,ie){ie=ie&&ie.trim()!=="";var A=r.subParser("outdent")(U,f,d),H="";return V&&f.tasklists&&(H=' class="task-list-item" style="list-style-type: none;"',A=A.replace(/^[ \t]*\[(x|X| )?]/m,function(){var W='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ie&&(W+=" checked"),W+=">",W})),A=A.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(W){return"A"+W}),O||A.search(/\n{2,}/)>-1?(A=r.subParser("githubCodeBlocks")(A,f,d),A=r.subParser("blockGamut")(A,f,d)):(A=r.subParser("lists")(A,f,d),A=A.replace(/\n$/,""),A=r.subParser("hashHTMLBlocks")(A,f,d),A=A.replace(/\n\n+/g,`

`),N?A=r.subParser("paragraphs")(A,f,d):A=r.subParser("spanGamut")(A,f,d)),A=A.replace("A",""),A="<li"+H+">"+A+`</li>
`,A}),E=E.replace(/0/g,""),d.gListLevel--,I&&(E=E.replace(/\s+$/,"")),E}function y(E,I){if(I==="ol"){var $=E.match(/^ *(\d+)\./);if($&&$[1]!=="1")return' start="'+$[1]+'"'}return""}function S(E,I,$){var N=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,O=I==="ul"?N:M,k="";if(E.search(O)!==-1)(function U(V){var ie=V.search(O),A=y(E,I);ie!==-1?(k+=`

<`+I+A+`>
`+p(V.slice(0,ie),!!$)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",O=I==="ul"?N:M,U(V.slice(ie))):k+=`

<`+I+A+`>
`+p(V,!!$)+"</"+I+`>
`})(E);else{var D=y(E,I);k=`

<`+I+D+`>
`+p(E,!!$)+"</"+I+`>
`}return k}return a=d.converter._dispatch("lists.before",a,f,d),a+="0",d.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(E,I,$){var N=$.search(/[*+-]/g)>-1?"ul":"ol";return S(I,N,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(E,I,$,N){var M=N.search(/[*+-]/g)>-1?"ul":"ol";return S($,M,!1)}),a=a.replace(/0/,""),a=d.converter._dispatch("lists.after",a,f,d),a}),r.subParser("metadata",function(a,f,d){if(!f.metadata)return a;a=d.converter._dispatch("metadata.before",a,f,d);function p(y){d.metadata.raw=y,y=y.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),y=y.replace(/\n {4}/g," "),y.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(S,E,I){return d.metadata.parsed[E]=I,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(y,S,E){return p(E),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(y,S,E){return S&&(d.metadata.format=S),p(E),"M"}),a=a.replace(/M/g,""),a=d.converter._dispatch("metadata.after",a,f,d),a}),r.subParser("outdent",function(a,f,d){return a=d.converter._dispatch("outdent.before",a,f,d),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=d.converter._dispatch("outdent.after",a,f,d),a}),r.subParser("paragraphs",function(a,f,d){a=d.converter._dispatch("paragraphs.before",a,f,d),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),y=[],S=p.length,E=0;E<S;E++){var I=p[E];I.search(/(K|G)(\d+)\1/g)>=0?y.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,f,d),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",y.push(I))}for(S=y.length,E=0;E<S;E++){for(var $="",N=y[E],M=!1;/(K|G)(\d+)\1/.test(N);){var O=RegExp.$1,k=RegExp.$2;O==="K"?$=d.gHtmlBlocks[k]:M?$=r.subParser("encodeCode")(d.ghCodeBlocks[k].text,f,d):$=d.ghCodeBlocks[k].codeblock,$=$.replace(/\$/g,"$$$$"),N=N.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,$),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(N)&&(M=!0)}y[E]=N}return a=y.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",a,f,d)}),r.subParser("runExtension",function(a,f,d,p){if(a.filter)f=a.filter(f,p.converter,d);else if(a.regex){var y=a.regex;y instanceof RegExp||(y=new RegExp(y,"g")),f=f.replace(y,a.replace)}return f}),r.subParser("spanGamut",function(a,f,d){return a=d.converter._dispatch("spanGamut.before",a,f,d),a=r.subParser("codeSpans")(a,f,d),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,d),a=r.subParser("encodeBackslashEscapes")(a,f,d),a=r.subParser("images")(a,f,d),a=r.subParser("anchors")(a,f,d),a=r.subParser("autoLinks")(a,f,d),a=r.subParser("simplifiedAutoLinks")(a,f,d),a=r.subParser("emoji")(a,f,d),a=r.subParser("underline")(a,f,d),a=r.subParser("italicsAndBold")(a,f,d),a=r.subParser("strikethrough")(a,f,d),a=r.subParser("ellipsis")(a,f,d),a=r.subParser("hashHTMLSpans")(a,f,d),a=r.subParser("encodeAmpsAndAngles")(a,f,d),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=d.converter._dispatch("spanGamut.after",a,f,d),a}),r.subParser("strikethrough",function(a,f,d){function p(y){return f.simplifiedAutoLink&&(y=r.subParser("simplifiedAutoLinks")(y,f,d)),"<del>"+y+"</del>"}return f.strikethrough&&(a=d.converter._dispatch("strikethrough.before",a,f,d),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(y,S){return p(S)}),a=d.converter._dispatch("strikethrough.after",a,f,d)),a}),r.subParser("stripLinkDefinitions",function(a,f,d){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,y=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var S=function(E,I,$,N,M,O,k){return I=I.toLowerCase(),$.match(/^data:.+?\/.+?;base64,/)?d.gUrls[I]=$.replace(/\s/g,""):d.gUrls[I]=r.subParser("encodeAmpsAndAngles")($,f,d),O?O+k:(k&&(d.gTitles[I]=k.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&N&&M&&(d.gDimensions[I]={width:N,height:M}),"")};return a=a.replace(y,S),a=a.replace(p,S),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,d){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,y=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function S(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function E(M,O){var k="";return M=M.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(k=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=r.subParser("spanGamut")(M,f,d),"<th"+k+O+">"+M+`</th>
`}function I(M,O){var k=r.subParser("spanGamut")(M,f,d);return"<td"+O+">"+k+`</td>
`}function $(M,O){for(var k=`<table>
<thead>
<tr>
`,D=M.length,U=0;U<D;++U)k+=M[U];for(k+=`</tr>
</thead>
<tbody>
`,U=0;U<O.length;++U){k+=`<tr>
`;for(var V=0;V<D;++V)k+=O[U][V];k+=`</tr>
`}return k+=`</tbody>
</table>
`,k}function N(M){var O,k=M.split(`
`);for(O=0;O<k.length;++O)/^ {0,3}\|/.test(k[O])&&(k[O]=k[O].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(k[O])&&(k[O]=k[O].replace(/\|[ \t]*$/,"")),k[O]=r.subParser("codeSpans")(k[O],f,d);var D=k[0].split("|").map(function(re){return re.trim()}),U=k[1].split("|").map(function(re){return re.trim()}),V=[],ie=[],A=[],H=[];for(k.shift(),k.shift(),O=0;O<k.length;++O)k[O].trim()!==""&&V.push(k[O].split("|").map(function(re){return re.trim()}));if(D.length<U.length)return M;for(O=0;O<U.length;++O)A.push(S(U[O]));for(O=0;O<D.length;++O)r.helper.isUndefined(A[O])&&(A[O]=""),ie.push(E(D[O],A[O]));for(O=0;O<V.length;++O){for(var W=[],te=0;te<ie.length;++te)r.helper.isUndefined(V[O][te]),W.push(I(V[O][te],A[te]));H.push(W)}return $(ie,H)}return a=d.converter._dispatch("tables.before",a,f,d),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,N),a=a.replace(y,N),a=d.converter._dispatch("tables.after",a,f,d),a}),r.subParser("underline",function(a,f,d){return f.underline&&(a=d.converter._dispatch("underline.before",a,f,d),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,y){return"<u>"+y+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,y){return"<u>"+y+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,y){return/\S$/.test(y)?"<u>"+y+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,y){return/\S$/.test(y)?"<u>"+y+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=d.converter._dispatch("underline.after",a,f,d)),a}),r.subParser("unescapeSpecialChars",function(a,f,d){return a=d.converter._dispatch("unescapeSpecialChars.before",a,f,d),a=a.replace(/E(\d+)E/g,function(p,y){var S=parseInt(y);return String.fromCharCode(S)}),a=d.converter._dispatch("unescapeSpecialChars.after",a,f,d),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,y=p.length,S=0;S<y;++S){var E=r.subParser("makeMarkdown.node")(p[S],f);E!==""&&(d+=E)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(a,f){var d=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+d+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var d="";if(a.hasChildNodes()){d+="*";for(var p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(a,f,d){var p=new Array(d+1).join("#"),y="";if(a.hasChildNodes()){y=p+" ";for(var S=a.childNodes,E=S.length,I=0;I<E;++I)y+=r.subParser("makeMarkdown.node")(S[I],f)}return y}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var d="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,y=p.length;d="[";for(var S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="](",d+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(d+=' "'+a.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(a,f,d){var p="";if(!a.hasChildNodes())return"";for(var y=a.childNodes,S=y.length,E=a.getAttribute("start")||1,I=0;I<S;++I)if(!(typeof y[I].tagName>"u"||y[I].tagName.toLowerCase()!=="li")){var $="";d==="ol"?$=E.toString()+". ":$="- ",p+=$+r.subParser("makeMarkdown.listItem")(y[I],f),++E}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var d="",p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(a,f,d){d=d||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var y=a.tagName.toLowerCase();switch(y){case"h1":d||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":d||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":d||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":d||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":d||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":d||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":d||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":d||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":d||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":d||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":d||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":d||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":d||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":d||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var d="";if(a.hasChildNodes())for(var p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(a,f){var d=a.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var d="";if(a.hasChildNodes()){d+="~~";for(var p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(a,f){var d="";if(a.hasChildNodes()){d+="**";for(var p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(a,f){var d="",p=[[],[]],y=a.querySelectorAll("thead>tr>th"),S=a.querySelectorAll("tbody>tr"),E,I;for(E=0;E<y.length;++E){var $=r.subParser("makeMarkdown.tableCell")(y[E],f),N="---";if(y[E].hasAttribute("style")){var M=y[E].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":N=":---";break;case"text-align:right;":N="---:";break;case"text-align:center;":N=":---:";break}}p[0][E]=$.trim(),p[1][E]=N}for(E=0;E<S.length;++E){var O=p.push([])-1,k=S[E].getElementsByTagName("td");for(I=0;I<y.length;++I){var D=" ";typeof k[I]<"u"&&(D=r.subParser("makeMarkdown.tableCell")(k[I],f)),p[O].push(D)}}var U=3;for(E=0;E<p.length;++E)for(I=0;I<p[E].length;++I){var V=p[E][I].length;V>U&&(U=V)}for(E=0;E<p.length;++E){for(I=0;I<p[E].length;++I)E===1?p[E][I].slice(-1)===":"?p[E][I]=r.helper.padEnd(p[E][I].slice(-1),U-1,"-")+":":p[E][I]=r.helper.padEnd(p[E][I],U,"-"):p[E][I]=r.helper.padEnd(p[E][I],U);d+="| "+p[E].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var d="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,y=p.length,S=0;S<y;++S)d+=r.subParser("makeMarkdown.node")(p[S],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var C=this;t.exports?t.exports=r:C.showdown=r}).call(ee)})(_v);var g_=_v.exports;const v_=$s(g_);function y_(t){const{currentNote:e,updateNote:n}=t,[r,i]=Pr.useState("write"),s=new v_.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Me.jsx("section",{className:"pane editor",children:Me.jsx(m_,{value:e.body,onChange:n,selectedTab:r,onTabChange:i,generateMarkdownPreview:o=>Promise.resolve(s.makeHtml(o)),minEditorHeight:80,heightUnits:"vh"})})}var Sv={exports:{}},w_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",__=w_,S_=__;function Ev(){}function kv(){}kv.resetWarningCache=Ev;var E_=function(){function t(r,i,s,o,u,l){if(l!==S_){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kv,resetWarningCache:Ev};return n.PropTypes=n,n};Sv.exports=E_();var k_=Sv.exports;const fe=$s(k_);var wt=typeof window<"u"?window:null,Wd=wt===null,_s=Wd?void 0:wt.document,At="addEventListener",Nt="removeEventListener",fl="getBoundingClientRect",Ni="_a",Dt="_b",Yt="_c",Co="horizontal",Mt=function(){return!1},C_=Wd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=_s.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Cv=function(t){return typeof t=="string"||t instanceof String},fp=function(t){if(Cv(t)){var e=_s.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ke=function(t,e,n){var r=t[e];return r!==void 0?r:n},To=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},T_=function(t,e){var n=_s.createElement("div");return n.className="gutter gutter-"+e,n},b_=function(t,e,n){var r={};return Cv(e)?r[t]=e:r[t]=C_+"("+e+"% - "+n+"px)",r},I_=function(t,e){var n;return n={},n[t]=e+"px",n},hp=function(t,e){if(e===void 0&&(e={}),Wd)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var c=fp(n[0]),h=c.parentNode,_=getComputedStyle?getComputedStyle(h):null,w=_?_.flexDirection:null,b=Ke(e,"sizes")||n.map(function(){return 100/n.length}),P=Ke(e,"minSize",100),T=Array.isArray(P)?P:n.map(function(){return P}),v=Ke(e,"maxSize",1/0),m=Array.isArray(v)?v:n.map(function(){return v}),g=Ke(e,"expandToMin",!1),C=Ke(e,"gutterSize",10),a=Ke(e,"gutterAlign","center"),f=Ke(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),p=Ke(e,"dragInterval",1),y=Ke(e,"direction",Co),S=Ke(e,"cursor",y===Co?"col-resize":"row-resize"),E=Ke(e,"gutter",T_),I=Ke(e,"elementStyle",b_),$=Ke(e,"gutterStyle",I_);y===Co?(r="width",i="clientX",s="left",o="right",u="clientWidth"):y==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function N(z,L,j,G){var be=I(r,L,j,G);Object.keys(be).forEach(function(_e){z.style[_e]=be[_e]})}function M(z,L,j){var G=$(r,L,j);Object.keys(G).forEach(function(be){z.style[be]=G[be]})}function O(){return l.map(function(z){return z.size})}function k(z){return"touches"in z?z.touches[0][i]:z[i]}function D(z){var L=l[this.a],j=l[this.b],G=L.size+j.size;L.size=z/this.size*G,j.size=G-z/this.size*G,N(L.element,L.size,this[Dt],L.i),N(j.element,j.size,this[Yt],j.i)}function U(z){var L,j=l[this.a],G=l[this.b];this.dragging&&(L=k(z)-this.start+(this[Dt]-this.dragOffset),p>1&&(L=Math.round(L/p)*p),L<=j.minSize+j.snapOffset+this[Dt]?L=j.minSize+this[Dt]:L>=this.size-(G.minSize+G.snapOffset+this[Yt])&&(L=this.size-(G.minSize+this[Yt])),L>=j.maxSize-j.snapOffset+this[Dt]?L=j.maxSize+this[Dt]:L<=this.size-(G.maxSize-G.snapOffset+this[Yt])&&(L=this.size-(G.maxSize+this[Yt])),D.call(this,L),Ke(e,"onDrag",Mt)(O()))}function V(){var z=l[this.a].element,L=l[this.b].element,j=z[fl](),G=L[fl]();this.size=j[r]+G[r]+this[Dt]+this[Yt],this.start=j[s],this.end=j[o]}function ie(z){if(!getComputedStyle)return null;var L=getComputedStyle(z);if(!L)return null;var j=z[u];return j===0?null:(y===Co?j-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight):j-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom),j)}function A(z){var L=ie(h);if(L===null||T.reduce(function(_e,pt){return _e+pt},0)>L)return z;var j=0,G=[],be=z.map(function(_e,pt){var jn=L*_e/100,ao=To(C,pt===0,pt===z.length-1,a),uo=T[pt]+ao;return jn<uo?(j+=uo-jn,G.push(0),uo):(G.push(jn-uo),jn)});return j===0?z:be.map(function(_e,pt){var jn=_e;if(j>0&&G[pt]-j>0){var ao=Math.min(j,G[pt]-j);j-=ao,jn=_e-ao}return jn/L*100})}function H(){var z=this,L=l[z.a].element,j=l[z.b].element;z.dragging&&Ke(e,"onDragEnd",Mt)(O()),z.dragging=!1,wt[Nt]("mouseup",z.stop),wt[Nt]("touchend",z.stop),wt[Nt]("touchcancel",z.stop),wt[Nt]("mousemove",z.move),wt[Nt]("touchmove",z.move),z.stop=null,z.move=null,L[Nt]("selectstart",Mt),L[Nt]("dragstart",Mt),j[Nt]("selectstart",Mt),j[Nt]("dragstart",Mt),L.style.userSelect="",L.style.webkitUserSelect="",L.style.MozUserSelect="",L.style.pointerEvents="",j.style.userSelect="",j.style.webkitUserSelect="",j.style.MozUserSelect="",j.style.pointerEvents="",z.gutter.style.cursor="",z.parent.style.cursor="",_s.body.style.cursor=""}function W(z){if(!("button"in z&&z.button!==0)){var L=this,j=l[L.a].element,G=l[L.b].element;L.dragging||Ke(e,"onDragStart",Mt)(O()),z.preventDefault(),L.dragging=!0,L.move=U.bind(L),L.stop=H.bind(L),wt[At]("mouseup",L.stop),wt[At]("touchend",L.stop),wt[At]("touchcancel",L.stop),wt[At]("mousemove",L.move),wt[At]("touchmove",L.move),j[At]("selectstart",Mt),j[At]("dragstart",Mt),G[At]("selectstart",Mt),G[At]("dragstart",Mt),j.style.userSelect="none",j.style.webkitUserSelect="none",j.style.MozUserSelect="none",j.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",L.gutter.style.cursor=S,L.parent.style.cursor=S,_s.body.style.cursor=S,V.call(L),L.dragOffset=k(z)-L.end}}b=A(b);var te=[];l=n.map(function(z,L){var j={element:fp(z),size:b[L],minSize:T[L],maxSize:m[L],snapOffset:d[L],i:L},G;if(L>0&&(G={a:L-1,b:L,dragging:!1,direction:y,parent:h},G[Dt]=To(C,L-1===0,!1,a),G[Yt]=To(C,!1,L===n.length-1,a),w==="row-reverse"||w==="column-reverse")){var be=G.a;G.a=G.b,G.b=be}if(L>0){var _e=E(L,y,j.element);M(_e,C,L),G[Ni]=W.bind(G),_e[At]("mousedown",G[Ni]),_e[At]("touchstart",G[Ni]),h.insertBefore(_e,j.element),G.gutter=_e}return N(j.element,j.size,To(C,L===0,L===n.length-1,a),L),L>0&&te.push(G),j});function re(z){var L=z.i===te.length,j=L?te[z.i-1]:te[z.i];V.call(j);var G=L?j.size-z.minSize-j[Yt]:z.minSize+j[Dt];D.call(j,G)}l.forEach(function(z){var L=z.element[fl]()[r];L<z.minSize&&(g?re(z):z.minSize=L)});function pe(z){var L=A(z);L.forEach(function(j,G){if(G>0){var be=te[G-1],_e=l[be.a],pt=l[be.b];_e.size=L[G-1],pt.size=j,N(_e.element,_e.size,be[Dt],_e.i),N(pt.element,pt.size,be[Yt],pt.i)}})}function we(z,L){te.forEach(function(j){if(L!==!0?j.parent.removeChild(j.gutter):(j.gutter[Nt]("mousedown",j[Ni]),j.gutter[Nt]("touchstart",j[Ni])),z!==!0){var G=I(r,j.a.size,j[Dt]);Object.keys(G).forEach(function(be){l[j.a].element.style[be]="",l[j.b].element.style[be]=""})}})}return{setSizes:pe,getSizes:O,collapse:function(L){re(l[L])},destroy:we,parent:h,pairs:te}};function hl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var Kd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=hl(r,["children","gutter"]),o=s;o.gutter=function(u,l){var c;return i?c=i(u,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=hp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,c=hl(s,["children","minSize","sizes","collapsed"]),h=c,_=r.minSize,w=r.sizes,b=r.collapsed,P=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],T=P.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,C){return g||C},!1);if(Array.isArray(o)&&Array.isArray(_)){var v=!1;o.forEach(function(g,C){v=v||g!==_[C]}),T=T||v}else Array.isArray(o)||Array.isArray(_)?T=!0:T=T||o!==_;if(T)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(g,C,a){return a.previousSibling},this.split=hp(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(g,C){m=m||g!==w[C]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==b||T)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=hl(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return Pr.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(Pr.Component);Kd.propTypes={sizes:fe.arrayOf(fe.number),minSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),maxSize:fe.oneOfType([fe.number,fe.arrayOf(fe.number)]),expandToMin:fe.bool,gutterSize:fe.number,gutterAlign:fe.string,snapOffset:fe.number,dragInterval:fe.number,direction:fe.string,cursor:fe.string,gutter:fe.func,elementStyle:fe.func,gutterStyle:fe.func,onDrag:fe.func,onDragStart:fe.func,onDragEnd:fe.func,collapsed:fe.number,children:fe.arrayOf(fe.element)};Kd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};let P_=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=n[t]&63;r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r<63?e+="_":e+="-"}return e};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,_=(s&3)<<4|u>>4;let w=(u&15)<<2|c>>6,b=c&63;l||(b=64,o||(w=64)),r.push(n[h],n[_],n[w],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||c==null||_==null)throw new N_;const w=s<<2|u>>4;if(r.push(w),c!==64){const b=u<<4&240|c>>2;if(r.push(b),_!==64){const P=c<<6&192|_;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D_=function(t){const e=Tv(t);return bv.encodeByteArray(e,!0)},wa=function(t){return D_(t).replace(/\./g,"")},M_=function(t){try{return bv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=()=>O_().__FIREBASE_DEFAULTS__,$_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M_(t[1]);return e&&JSON.parse(e)},Iv=()=>{try{return L_()||$_()||R_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x_=t=>{var e,n;return(n=(e=Iv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z_=t=>{const e=x_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pv=()=>{var t;return(t=Iv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[wa(JSON.stringify(n)),wa(JSON.stringify(o)),u].join(".")}function B_(){try{return typeof indexedDB=="object"}catch{return!1}}function U_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="FirebaseError";class di extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V_,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Av.prototype.create)}}class Av{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?H_(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new di(i,u,r)}}function H_(t,e){return t.replace(q_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q_=/\{\$([^}]+)}/g;function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pp(s)&&pp(o)){if(!vc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G_(e))try{this.getOrInitializeService({instanceIdentifier:Un})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Un){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Un){return this.instances.has(e)}getOptions(e=Un){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Un){return this.component?this.component.multipleInstances?e:Un:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K_(t){return t===Un?void 0:t}function G_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const Y_={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},X_=le.INFO,J_={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},Z_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=J_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=X_,this._logHandler=Z_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const e2=(t,e)=>e.some(n=>t instanceof n);let mp,gp;function t2(){return mp||(mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return gp||(gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,yc=new WeakMap,Ov=new WeakMap,pl=new WeakMap,Gd=new WeakMap;function r2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mv.set(n,t)}).catch(()=>{}),Gd.set(e,t),e}function i2(t){if(yc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yc.set(t,e)}let wc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ov.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s2(t){wc=t(wc)}function o2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ml(this),e,...n);return Ov.set(r,e.sort?e.sort():[e]),Tn(r)}:n2().includes(t)?function(...e){return t.apply(ml(this),e),Tn(Mv.get(this))}:function(...e){return Tn(t.apply(ml(this),e))}}function a2(t){return typeof t=="function"?o2(t):(t instanceof IDBTransaction&&i2(t),e2(t,t2())?new Proxy(t,wc):t)}function Tn(t){if(t instanceof IDBRequest)return r2(t);if(pl.has(t))return pl.get(t);const e=a2(t);return e!==t&&(pl.set(t,e),Gd.set(e,t)),e}const ml=t=>Gd.get(t);function u2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Tn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tn(o.result),l.oldVersion,l.newVersion,Tn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),u}const l2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],gl=new Map;function vp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gl.get(e))return gl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l2.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(await Promise.all([c[n](...u),i&&l.done]))[0]};return gl.set(e,s),s}s2(t=>({...t,get:(e,n,r)=>vp(e,n)||t.get(e,n,r),has:(e,n)=>!!vp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _c="@firebase/app",yp="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Dv("@firebase/app"),h2="@firebase/app-compat",p2="@firebase/analytics-compat",m2="@firebase/analytics",g2="@firebase/app-check-compat",v2="@firebase/app-check",y2="@firebase/auth",w2="@firebase/auth-compat",_2="@firebase/database",S2="@firebase/database-compat",E2="@firebase/functions",k2="@firebase/functions-compat",C2="@firebase/installations",T2="@firebase/installations-compat",b2="@firebase/messaging",I2="@firebase/messaging-compat",P2="@firebase/performance",A2="@firebase/performance-compat",N2="@firebase/remote-config",D2="@firebase/remote-config-compat",M2="@firebase/storage",O2="@firebase/storage-compat",L2="@firebase/firestore",$2="@firebase/firestore-compat",R2="firebase",x2="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]",z2={[_c]:"fire-core",[h2]:"fire-core-compat",[m2]:"fire-analytics",[p2]:"fire-analytics-compat",[v2]:"fire-app-check",[g2]:"fire-app-check-compat",[y2]:"fire-auth",[w2]:"fire-auth-compat",[_2]:"fire-rtdb",[S2]:"fire-rtdb-compat",[E2]:"fire-fn",[k2]:"fire-fn-compat",[C2]:"fire-iid",[T2]:"fire-iid-compat",[b2]:"fire-fcm",[I2]:"fire-fcm-compat",[P2]:"fire-perf",[A2]:"fire-perf-compat",[N2]:"fire-rc",[D2]:"fire-rc-compat",[M2]:"fire-gcs",[O2]:"fire-gcs-compat",[L2]:"fire-fst",[$2]:"fire-fst-compat","fire-js":"fire-js",[R2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Map,Ec=new Map;function j2(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(Ec.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ec.set(e,t);for(const n of _a.values())j2(n,t);return!0}function F2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bn=new Av("app","Firebase",B2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=x2;function Lv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=Pv()),!n)throw bn.create("no-options");const s=_a.get(i);if(s){if(vc(n,s.options)&&vc(r,s.config))return s;throw bn.create("duplicate-app",{appName:i})}const o=new Q_(i);for(const l of Ec.values())o.addComponent(l);const u=new U2(n,r,o);return _a.set(i,u),u}function H2(t=Sc){const e=_a.get(t);if(!e&&t===Sc&&Pv())return Lv();if(!e)throw bn.create("no-app",{appName:t});return e}function jr(t,e,n){var r;let i=(r=z2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(u.join(" "));return}Sa(new Ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebase-heartbeat-database",W2=1,Es="firebase-heartbeat-store";let vl=null;function $v(){return vl||(vl=u2(q2,W2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Es)}}}).catch(t=>{throw bn.create("idb-open",{originalErrorMessage:t.message})})),vl}async function K2(t){try{return await(await $v()).transaction(Es).objectStore(Es).get(Rv(t))}catch(e){if(e instanceof di)rr.warn(e.message);else{const n=bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function wp(t,e){try{const r=(await $v()).transaction(Es,"readwrite");await r.objectStore(Es).put(e,Rv(t)),await r.done}catch(n){if(n instanceof di)rr.warn(n.message);else{const r=bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function Rv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,Q2=30*24*60*60*1e3;class Y2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_p();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Q2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_p(),{heartbeatsToSend:n,unsentEntries:r}=X2(this._heartbeatsCache.heartbeats),i=wa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _p(){return new Date().toISOString().substring(0,10)}function X2(t,e=G2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class J2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B_()?U_().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await K2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sp(t){return wa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){Sa(new Ss("platform-logger",e=>new d2(e),"PRIVATE")),Sa(new Ss("heartbeat",e=>new Y2(e),"PRIVATE")),jr(_c,yp,t),jr(_c,yp,"esm2017"),jr("fire-js","")}Z2("");var e8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,Qd=Qd||{},J=e8||self;function du(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function t8(t){return Object.prototype.hasOwnProperty.call(t,yl)&&t[yl]||(t[yl]=++n8)}var yl="closure_uid_"+(1e9*Math.random()>>>0),n8=0;function r8(t,e,n){return t.call.apply(t.bind,arguments)}function i8(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function et(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?et=r8:et=i8,et.apply(null,arguments)}function bo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Fe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function xn(){this.s=this.s,this.o=this.o}var s8=0;xn.prototype.s=!1;xn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),s8!=0)&&t8(this)};xn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ep(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(du(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var o8=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function ks(t){return/^[\s\xa0]*$/.test(t)}function fu(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Rt(t){return fu().indexOf(t)!=-1}function Xd(t){return Xd[" "](t),t}Xd[" "]=function(){};function a8(t,e){var n=Z8;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var u8=Rt("Opera"),Xr=Rt("Trident")||Rt("MSIE"),zv=Rt("Edge"),kc=zv||Xr,jv=Rt("Gecko")&&!(fu().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge"))&&!(Rt("Trident")||Rt("MSIE"))&&!Rt("Edge"),l8=fu().toLowerCase().indexOf("webkit")!=-1&&!Rt("Edge");function Fv(){var t=J.document;return t?t.documentMode:void 0}var Cc;e:{var wl="",_l=function(){var t=fu();if(jv)return/rv:([^\);]+)(\)|;)/.exec(t);if(zv)return/Edge\/([\d\.]+)/.exec(t);if(Xr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(l8)return/WebKit\/(\S+)/.exec(t);if(u8)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(_l&&(wl=_l?_l[1]:""),Xr){var Sl=Fv();if(Sl!=null&&Sl>parseFloat(wl)){Cc=String(Sl);break e}}Cc=wl}var Tc;if(J.document&&Xr){var kp=Fv();Tc=kp||parseInt(Cc,10)||void 0}else Tc=void 0;var c8=Tc;function Cs(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jv){e:{try{Xd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:d8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cs.$.h.call(this)}}Fe(Cs,tt);var d8={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qs="closure_listenable_"+(1e6*Math.random()|0),f8=0;function h8(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++f8,this.fa=this.ia=!1}function hu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Jd(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function p8(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Bv(t){const e={};for(const n in t)e[n]=t[n];return e}const Cp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Cp.length;s++)n=Cp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pu(t){this.src=t,this.g={},this.h=0}pu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ic(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new h8(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function bc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ic(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Zd="closure_lm_"+(1e6*Math.random()|0),El={};function Vv(t,e,n,r,i){if(r&&r.once)return qv(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vv(t,e[s],n,r,i);return null}return n=nf(n),t&&t[Qs]?t.O(e,n,Gs(r)?!!r.capture:!!r,i):Hv(t,e,n,!1,r,i)}function Hv(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gs(i)?!!i.capture:!!i,u=tf(t);if(u||(t[Zd]=u=new pu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=m8(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)o8||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Kv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m8(){function t(n){return e.call(t.src,t.listener,n)}const e=g8;return t}function qv(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qv(t,e[s],n,r,i);return null}return n=nf(n),t&&t[Qs]?t.P(e,n,Gs(r)?!!r.capture:!!r,i):Hv(t,e,n,!0,r,i)}function Wv(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Wv(t,e[s],n,r,i);else r=Gs(r)?!!r.capture:!!r,n=nf(n),t&&t[Qs]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ic(s,n,r,i),-1<n&&(hu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ic(e,n,r,i)),(n=-1<t?e[t]:null)&&ef(n))}function ef(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Qs])bc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Kv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tf(e))?(bc(n,t),n.h==0&&(n.src=null,e[Zd]=null)):hu(t)}}}function Kv(t){return t in El?El[t]:El[t]="on"+t}function g8(t,e){if(t.fa)t=!0;else{e=new Cs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ef(t),t=n.call(r,e)}return t}function tf(t){return t=t[Zd],t instanceof pu?t:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function nf(t){return typeof t=="function"?t:(t[kl]||(t[kl]=function(e){return t.handleEvent(e)}),t[kl])}function je(){xn.call(this),this.i=new pu(this),this.S=this,this.J=null}Fe(je,xn);je.prototype[Qs]=!0;je.prototype.removeEventListener=function(t,e,n,r){Wv(this,t,e,n,r)};function qe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new tt(e,t);else if(e instanceof tt)e.target=e.target||t;else{var i=e;e=new tt(r,t),Uv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Io(o,r,!0,e)&&i}if(o=e.g=t,i=Io(o,r,!0,e)&&i,i=Io(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Io(o,r,!1,e)&&i}je.prototype.N=function(){if(je.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hu(n[r]);delete t.g[e],t.h--}}this.J=null};je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};je.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Io(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,l=o.la||o.src;o.ia&&bc(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rf=J.JSON.stringify;class v8{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function y8(){var t=sf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class w8{constructor(){this.h=this.g=null}add(e,n){const r=Gv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gv=new v8(()=>new _8,t=>t.reset());class _8{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function S8(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function E8(t){J.setTimeout(()=>{throw t},0)}let Ts,bs=!1,sf=new w8,Qv=()=>{const t=J.Promise.resolve(void 0);Ts=()=>{t.then(k8)}};var k8=()=>{for(var t;t=y8();){try{t.h.call(t.g)}catch(n){E8(n)}var e=Gv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bs=!1};function mu(t,e){je.call(this),this.h=t||1,this.g=e||J,this.j=et(this.qb,this),this.l=Date.now()}Fe(mu,je);B=mu.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qe(this,"tick"),this.ga&&(of(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function of(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}B.N=function(){mu.$.N.call(this),of(this),delete this.g};function af(t,e,n){if(typeof t=="function")n&&(t=et(t,n));else if(t&&typeof t.handleEvent=="function")t=et(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function Yv(t){t.g=af(()=>{t.g=null,t.i&&(t.i=!1,Yv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class C8 extends xn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yv(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(t){xn.call(this),this.h=t,this.g={}}Fe(Is,xn);var Tp=[];function Xv(t,e,n,r){Array.isArray(n)||(n&&(Tp[0]=n.toString()),n=Tp);for(var i=0;i<n.length;i++){var s=Vv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Jv(t){Jd(t.g,function(e,n){this.g.hasOwnProperty(n)&&ef(e)},t),t.g={}}Is.prototype.N=function(){Is.$.N.call(this),Jv(this)};Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gu(){this.g=!0}gu.prototype.Ea=function(){this.g=!1};function T8(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var c=u[l].split("=");if(1<c.length){var h=c[0];c=c[1];var _=h.split("_");o=2<=_.length&&_[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function b8(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ir(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+P8(t,n)+(r?" "+r:"")})}function I8(t,e){t.info(function(){return"TIMEOUT: "+e})}gu.prototype.info=function(){};function P8(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rf(n)}catch{return e}}var dr={},bp=null;function vu(){return bp=bp||new je}dr.Ta="serverreachability";function Zv(t){tt.call(this,dr.Ta,t)}Fe(Zv,tt);function Ps(t){const e=vu();qe(e,new Zv(e))}dr.STAT_EVENT="statevent";function e0(t,e){tt.call(this,dr.STAT_EVENT,t),this.stat=e}Fe(e0,tt);function st(t){const e=vu();qe(e,new e0(e,t))}dr.Ua="timingevent";function t0(t,e){tt.call(this,dr.Ua,t),this.size=e}Fe(t0,tt);function Ys(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var yu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},n0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function uf(){}uf.prototype.h=null;function Ip(t){return t.h||(t.h=t.i())}function r0(){}var Xs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lf(){tt.call(this,"d")}Fe(lf,tt);function cf(){tt.call(this,"c")}Fe(cf,tt);var Pc;function wu(){}Fe(wu,uf);wu.prototype.g=function(){return new XMLHttpRequest};wu.prototype.i=function(){return{}};Pc=new wu;function Js(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Is(this),this.P=A8,t=kc?125:void 0,this.V=new mu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i0}function i0(){this.i=null,this.g="",this.h=!1}var A8=45e3,Ac={},Ea={};B=Js.prototype;B.setTimeout=function(t){this.P=t};function Nc(t,e,n){t.L=1,t.v=Su(sn(e)),t.s=n,t.S=!0,s0(t,null)}function s0(t,e){t.G=Date.now(),Zs(t),t.A=sn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),h0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new i0,t.g=L0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new C8(et(t.Pa,t,t.g),t.O)),Xv(t.U,t.g,"readystatechange",t.nb),e=t.I?Bv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ps(),T8(t.j,t.u,t.A,t.m,t.W,t.s)}B.nb=function(t){t=t.target;const e=this.M;e&&Bt(t)==3?e.l():this.Pa(t)};B.Pa=function(t){try{if(t==this.g)e:{const h=Bt(this.g);var e=this.g.Ia();const _=this.g.da();if(!(3>h)&&(h!=3||kc||this.g&&(this.h.h||this.g.ja()||Dp(this.g)))){this.J||h!=4||e==7||(e==8||0>=_?Ps(3):Ps(2)),_u(this);var n=this.g.da();this.ca=n;t:if(o0(this)){var r=Dp(this.g);t="";var i=r.length,s=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gn(this),ts(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,b8(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(u)){var c=u;break t}}c=null}if(n=c)Ir(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dc(this,n);else{this.i=!1,this.o=3,st(12),Gn(this),ts(this);break e}}this.S?(a0(this,h,o),kc&&this.i&&h==3&&(Xv(this.U,this.V,"tick",this.mb),this.V.start())):(Ir(this.j,this.m,o,null),Dc(this,o)),h==4&&Gn(this),this.i&&!this.J&&(h==4?N0(this.l,this):(this.i=!1,Zs(this)))}else Y8(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,st(12)):(this.o=0,st(13)),Gn(this),ts(this)}}}catch{}finally{}};function o0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function a0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=N8(t,n),i==Ea){e==4&&(t.o=4,st(14),r=!1),Ir(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ac){t.o=4,st(15),Ir(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ir(t.j,t.m,i,null),Dc(t,i);o0(t)&&i!=Ea&&i!=Ac&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,st(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gf(e),e.M=!0,st(11))):(Ir(t.j,t.m,n,"[Invalid Chunked Response]"),Gn(t),ts(t))}B.mb=function(){if(this.g){var t=Bt(this.g),e=this.g.ja();this.C<e.length&&(_u(this),a0(this,t,e),this.i&&t!=4&&Zs(this))}};function N8(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ea:(n=Number(e.substring(n,r)),isNaN(n)?Ac:(r+=1,r+n>e.length?Ea:(e=e.slice(r,r+n),t.C=r+n,e)))}B.cancel=function(){this.J=!0,Gn(this)};function Zs(t){t.Y=Date.now()+t.P,u0(t,t.P)}function u0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ys(et(t.lb,t),e)}function _u(t){t.B&&(J.clearTimeout(t.B),t.B=null)}B.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(I8(this.j,this.A),this.L!=2&&(Ps(),st(17)),Gn(this),this.o=2,ts(this)):u0(this,this.Y-t)};function ts(t){t.l.H==0||t.J||N0(t.l,t)}function Gn(t){_u(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,of(t.V),Jv(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Mc(n.i,t))){if(!t.K&&Mc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ta(n),Cu(n);else break e;mf(n),st(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ys(et(n.ib,n),6e3));if(1>=g0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qn(n,11)}else if((t.K||n.g==t)&&Ta(n),!ks(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const _=c[4];_!=null&&(n.Ga=_,n.l.info("SVER="+n.Ga));const w=c[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const b=t.g;if(b){const P=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=r.i;s.g||P.indexOf("spdy")==-1&&P.indexOf("quic")==-1&&P.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(df(s,s.h),s.h=null))}if(r.F){const T=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(r.Da=T,ge(r.I,r.F,T))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=O0(r,r.J?r.pa:null,r.Y),o.K){v0(r.i,o);var u=o,l=r.L;l&&u.setTimeout(l),u.B&&(_u(u),Zs(u)),r.g=o}else P0(r);0<n.j.length&&Tu(n)}else c[0]!="stop"&&c[0]!="close"||Qn(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Qn(n,7):pf(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ps(4)}catch{}}function D8(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(du(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function M8(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(du(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function l0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(du(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=M8(t),r=D8(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var c0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O8(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jn){this.h=t.h,ka(this,t.j),this.s=t.s,this.g=t.g,Ca(this,t.m),this.l=t.l;var e=t.i,n=new As;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pp(this,n),this.o=t.o}else t&&(e=String(t).match(c0))?(this.h=!1,ka(this,e[1]||"",!0),this.s=zi(e[2]||""),this.g=zi(e[3]||"",!0),Ca(this,e[4]),this.l=zi(e[5]||"",!0),Pp(this,e[6]||"",!0),this.o=zi(e[7]||"")):(this.h=!1,this.i=new As(null,this.h))}Jn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ji(e,Ap,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ji(e,Ap,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ji(n,n.charAt(0)=="/"?R8:$8,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ji(n,z8)),t.join("")};function sn(t){return new Jn(t)}function ka(t,e,n){t.j=n?zi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ca(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pp(t,e,n){e instanceof As?(t.i=e,j8(t.i,t.h)):(n||(e=ji(e,x8)),t.i=new As(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function Su(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function zi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ji(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,L8),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function L8(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ap=/[#\/\?@]/g,$8=/[#\?:]/g,R8=/[#\?]/g,x8=/[#\?@]/g,z8=/#/g;function As(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zn(t){t.g||(t.g=new Map,t.h=0,t.i&&O8(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}B=As.prototype;B.add=function(t,e){zn(this),this.i=null,t=fi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function d0(t,e){zn(t),e=fi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function f0(t,e){return zn(t),e=fi(t,e),t.g.has(e)}B.forEach=function(t,e){zn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};B.ta=function(){zn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};B.Z=function(t){zn(this);let e=[];if(typeof t=="string")f0(this,t)&&(e=e.concat(this.g.get(fi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};B.set=function(t,e){return zn(this),this.i=null,t=fi(this,t),f0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};B.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function h0(t,e,n){d0(t,e),0<n.length&&(t.i=null,t.g.set(fi(t,e),Yd(n)),t.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function fi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function j8(t,e){e&&!t.j&&(zn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(d0(this,r),h0(this,i,n))},t)),t.j=e}var F8=class{constructor(t,e){this.g=t,this.map=e}};function p0(t){this.l=t||B8,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var B8=10;function m0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function g0(t){return t.h?1:t.g?t.g.size:0}function Mc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function df(t,e){t.g?t.g.add(e):t.h=e}function v0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}p0.prototype.cancel=function(){if(this.i=y0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function y0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yd(t.i)}var U8=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function V8(){this.g=new U8}function H8(t,e,n){const r=n||"";try{l0(t,function(i,s){let o=i;Gs(i)&&(o=rf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function q8(t,e){const n=new gu;if(J.Image){const r=new Image;r.onload=bo(Po,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bo(Po,n,r,"TestLoadImage: error",!1,e),r.onabort=bo(Po,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bo(Po,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Po(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function eo(t){this.l=t.fc||null,this.j=t.ob||!1}Fe(eo,uf);eo.prototype.g=function(){return new Eu(this.l,this.j)};eo.prototype.i=function(t){return function(){return t}}({});function Eu(t,e){je.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ff,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fe(Eu,je);var ff=0;B=Eu.prototype;B.open=function(t,e){if(this.readyState!=ff)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ns(this)};B.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=ff};B.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function w0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}B.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?to(this):Ns(this),this.readyState==3&&w0(this)}};B.Za=function(t){this.g&&(this.response=this.responseText=t,to(this))};B.Ya=function(t){this.g&&(this.response=t,to(this))};B.ka=function(){this.g&&to(this)};function to(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ns(t)}B.setRequestHeader=function(t,e){this.v.append(t,e)};B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ns(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Eu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var W8=J.JSON.parse;function Te(t){je.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=_0,this.L=this.M=!1}Fe(Te,je);var _0="",K8=/^https?$/i,G8=["POST","PUT"];B=Te.prototype;B.Oa=function(t){this.M=t};B.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pc.g(),this.C=this.u?Ip(this.u):Ip(Pc),this.g.onreadystatechange=et(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Np(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=xv(G8,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{k0(this),0<this.B&&((this.L=Q8(this.g))?(this.g.timeout=this.B,this.g.ontimeout=et(this.ua,this)):this.A=af(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Np(this,s)}};function Q8(t){return Xr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}B.ua=function(){typeof Qd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))};function Np(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,S0(t),ku(t)}function S0(t){t.F||(t.F=!0,qe(t,"complete"),qe(t,"error"))}B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qe(this,"complete"),qe(this,"abort"),ku(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ku(this,!0)),Te.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?E0(this):this.kb())};B.kb=function(){E0(this)};function E0(t){if(t.h&&typeof Qd<"u"&&(!t.C[1]||Bt(t)!=4||t.da()!=2)){if(t.v&&Bt(t)==4)af(t.La,0,t);else if(qe(t,"readystatechange"),Bt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(c0)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!K8.test(i?i.toLowerCase():"")}n=r}if(n)qe(t,"complete"),qe(t,"success");else{t.m=6;try{var s=2<Bt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",S0(t)}}finally{ku(t)}}}}function ku(t,e){if(t.g){k0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function k0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}B.isActive=function(){return!!this.g};function Bt(t){return t.g?t.g.readyState:0}B.da=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),W8(e)}};function Dp(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case _0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Y8(t){const e={};t=(t.g&&2<=Bt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ks(t[r]))continue;var n=S8(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}p8(e,function(r){return r.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C0(t){let e="";return Jd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function hf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ge(t,e,n))}function Di(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function T0(t){this.Ga=0,this.j=[],this.l=new gu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Di("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Di("baseRetryDelayMs",5e3,t),this.hb=Di("retryDelaySeedMs",1e4,t),this.eb=Di("forwardChannelMaxRetries",2,t),this.xa=Di("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new p0(t&&t.concurrentRequestLimit),this.Ja=new V8,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=T0.prototype;B.ra=8;B.H=1;function pf(t){if(b0(t),t.H==3){var e=t.W++,n=sn(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),no(t,n),e=new Js(t,t.l,e),e.L=2,e.v=Su(sn(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=L0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zs(e)}M0(t)}function Cu(t){t.g&&(gf(t),t.g.cancel(),t.g=null)}function b0(t){Cu(t),t.u&&(J.clearTimeout(t.u),t.u=null),Ta(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Tu(t){if(!m0(t.i)&&!t.m){t.m=!0;var e=t.Na;Ts||Qv(),bs||(Ts(),bs=!0),sf.add(e,t),t.C=0}}function X8(t,e){return g0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ys(et(t.Na,t,e),D0(t,t.C)),t.C++,!0)}B.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Js(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Bv(s),Uv(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=I0(this,i,e),n=sn(this.I),ge(n,"RID",t),ge(n,"CVER",22),this.F&&ge(n,"X-HTTP-Session-Id",this.F),no(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(C0(s)))+"&"+e:this.o&&hf(n,this.o,s)),df(this.i,i),this.bb&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),i.aa=!0,Nc(i,n,null)):Nc(i,n,e),this.H=2}}else this.H==3&&(t?Mp(this,t):this.j.length==0||m0(this.i)||Mp(this))};function Mp(t,e){var n;e?n=e.m:n=t.W++;const r=sn(t.I);ge(r,"SID",t.K),ge(r,"RID",n),ge(r,"AID",t.V),no(t,r),t.o&&t.s&&hf(r,t.o,t.s),n=new Js(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=I0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),df(t.i,n),Nc(n,r,e)}function no(t,e){t.na&&Jd(t.na,function(n,r){ge(e,r,n)}),t.h&&l0({},function(n,r){ge(e,r,n)})}function I0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?et(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let c=i[l].g;const h=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),u=!1;else try{H8(h,o,"req"+c+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function P0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ts||Qv(),bs||(Ts(),bs=!0),sf.add(e,t),t.A=0}}function mf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ys(et(t.Ma,t),D0(t,t.A)),t.A++,!0)}B.Ma=function(){if(this.u=null,A0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ys(et(this.jb,this),t)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,st(10),Cu(this),A0(this))};function gf(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function A0(t){t.g=new Js(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sn(t.wa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.V),ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ge(e,"TO",t.qa),ge(e,"TYPE","xmlhttp"),no(t,e),t.o&&t.s&&hf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Su(sn(e)),n.s=null,n.S=!0,s0(n,t)}B.ib=function(){this.v!=null&&(this.v=null,Cu(this),mf(this),st(19))};function Ta(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function N0(t,e){var n=null;if(t.g==e){Ta(t),gf(t),t.g=null;var r=2}else if(Mc(t.i,e))n=e.F,v0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=vu(),qe(r,new t0(r,n)),Tu(t)}else P0(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&X8(t,e)||r==2&&mf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Qn(t,5);break;case 4:Qn(t,10);break;case 3:Qn(t,6);break;default:Qn(t,2)}}}function D0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=et(t.pb,t);n||(n=new Jn("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||ka(n,"https"),Su(n)),q8(n.toString(),r)}else st(2);t.H=0,t.h&&t.h.za(e),M0(t),b0(t)}B.pb=function(t){t?(this.l.info("Successfully pinged google.com"),st(2)):(this.l.info("Failed to ping google.com"),st(1))};function M0(t){if(t.H=0,t.ma=[],t.h){const e=y0(t.i);(e.length!=0||t.j.length!=0)&&(Ep(t.ma,e),Ep(t.ma,t.j),t.i.i.length=0,Yd(t.j),t.j.length=0),t.h.ya()}}function O0(t,e,n){var r=n instanceof Jn?sn(n):new Jn(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ca(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Jn(null);r&&ka(s,r),e&&(s.g=e),i&&Ca(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ge(r,n,e),ge(r,"VER",t.ra),no(t,r),r}function L0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Te(new eo({ob:!0})):new Te(t.va),e.Oa(t.J),e}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function $0(){}B=$0.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function ba(){if(Xr&&!(10<=Number(c8)))throw Error("Environmental error: no available transport.")}ba.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){je.call(this),this.g=new T0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ks(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ks(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hi(this)}Fe(vt,je);vt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;st(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=O0(t,null,t.Y),Tu(t)};vt.prototype.close=function(){pf(this.g)};vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rf(t),t=n);e.j.push(new F8(e.fb++,t)),e.H==3&&Tu(e)};vt.prototype.N=function(){this.g.h=null,delete this.j,pf(this.g),delete this.g,vt.$.N.call(this)};function R0(t){lf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Fe(R0,lf);function x0(){cf.call(this),this.status=1}Fe(x0,cf);function hi(t){this.g=t}Fe(hi,$0);hi.prototype.Ba=function(){qe(this.g,"a")};hi.prototype.Aa=function(t){qe(this.g,new R0(t))};hi.prototype.za=function(t){qe(this.g,new x0)};hi.prototype.ya=function(){qe(this.g,"b")};function J8(){this.blockSize=-1}function $t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Fe($t,J8);$t.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Cl(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}$t.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Cl(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Cl(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Cl(this,r),i=0;break}}this.h=i,this.i+=e};$t.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function de(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Z8={};function vf(t){return-128<=t&&128>t?a8(t,function(e){return new de([e|0],0>e?-1:0)}):new de([t|0],0>t?-1:0)}function Ut(t){if(isNaN(t)||!isFinite(t))return Fr;if(0>t)return He(Ut(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Oc;return new de(e,0)}function z0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return He(z0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ut(Math.pow(e,8)),r=Fr,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ut(Math.pow(e,s)),r=r.R(s).add(Ut(o))):(r=r.R(n),r=r.add(Ut(o)))}return r}var Oc=4294967296,Fr=vf(0),Lc=vf(1),Op=vf(16777216);B=de.prototype;B.ea=function(){if(Et(this))return-He(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Oc+r)*e,e*=Oc}return t};B.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(tn(this))return"0";if(Et(this))return"-"+He(this).toString(t);for(var e=Ut(Math.pow(t,6)),n=this,r="";;){var i=Pa(n,e).g;n=Ia(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,tn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};B.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function tn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Et(t){return t.h==-1}B.X=function(t){return t=Ia(this,t),Et(t)?-1:tn(t)?0:1};function He(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new de(n,~t.h).add(Lc)}B.abs=function(){return Et(this)?He(this):this};B.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new de(n,n[n.length-1]&-2147483648?-1:0)};function Ia(t,e){return t.add(He(e))}B.R=function(t){if(tn(this)||tn(t))return Fr;if(Et(this))return Et(t)?He(this).R(He(t)):He(He(this).R(t));if(Et(t))return He(this.R(He(t)));if(0>this.X(Op)&&0>t.X(Op))return Ut(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ao(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ao(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Ao(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,Ao(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new de(n,0)};function Ao(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mi(t,e){this.g=t,this.h=e}function Pa(t,e){if(tn(e))throw Error("division by zero");if(tn(t))return new Mi(Fr,Fr);if(Et(t))return e=Pa(He(t),e),new Mi(He(e.g),He(e.h));if(Et(e))return e=Pa(t,He(e)),new Mi(He(e.g),e.h);if(30<t.g.length){if(Et(t)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,r=e;0>=r.X(t);)n=Lp(n),r=Lp(r);var i=pr(n,1),s=pr(r,1);for(r=pr(r,2),n=pr(n,2);!tn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=pr(r,1),n=pr(n,1)}return e=Ia(t,i.R(e)),new Mi(i,e)}for(i=Fr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ut(n),o=s.R(e);Et(o)||0<o.X(t);)n-=r,s=Ut(n),o=s.R(e);tn(s)&&(s=Lc),i=i.add(s),t=Ia(t,o)}return new Mi(i,t)}B.gb=function(t){return Pa(this,t).h};B.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new de(n,this.h&t.h)};B.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new de(n,this.h|t.h)};B.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new de(n,this.h^t.h)};function Lp(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new de(n,t.h)}function pr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new de(i,t.h)}ba.prototype.createWebChannel=ba.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;yu.NO_ERROR=0;yu.TIMEOUT=8;yu.HTTP_ERROR=6;n0.COMPLETE="complete";r0.EventType=Xs;Xs.OPEN="a";Xs.CLOSE="b";Xs.ERROR="c";Xs.MESSAGE="d";je.prototype.listen=je.prototype.O;Te.prototype.listenOnce=Te.prototype.P;Te.prototype.getLastError=Te.prototype.Sa;Te.prototype.getLastErrorCode=Te.prototype.Ia;Te.prototype.getStatus=Te.prototype.da;Te.prototype.getResponseJson=Te.prototype.Wa;Te.prototype.getResponseText=Te.prototype.ja;Te.prototype.send=Te.prototype.ha;Te.prototype.setWithCredentials=Te.prototype.Oa;$t.prototype.digest=$t.prototype.l;$t.prototype.reset=$t.prototype.reset;$t.prototype.update=$t.prototype.j;de.prototype.add=de.prototype.add;de.prototype.multiply=de.prototype.R;de.prototype.modulo=de.prototype.gb;de.prototype.compare=de.prototype.X;de.prototype.toNumber=de.prototype.ea;de.prototype.toString=de.prototype.toString;de.prototype.getBits=de.prototype.D;de.fromNumber=Ut;de.fromString=z0;var eS=function(){return new ba},tS=function(){return vu()},Tl=yu,nS=n0,rS=dr,$p={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iS=eo,No=r0,sS=Te,oS=$t,Br=de;const Rp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pi="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Dv("@firebase/firestore");function xp(){return ir.logLevel}function K(t,...e){if(ir.logLevel<=le.DEBUG){const n=e.map(yf);ir.debug(`Firestore (${pi}): ${t}`,...n)}}function on(t,...e){if(ir.logLevel<=le.ERROR){const n=e.map(yf);ir.error(`Firestore (${pi}): ${t}`,...n)}}function Jr(t,...e){if(ir.logLevel<=le.WARN){const n=e.map(yf);ir.warn(`Firestore (${pi}): ${t}`,...n)}}function yf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${pi}) INTERNAL ASSERTION FAILED: `+t;throw on(e),new Error(e)}function $e(t,e){t||ne()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class uS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lS{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ur,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new j0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Ye(e)}}class cS{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dS{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new cS(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new fS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Zr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ht(0,0))}static max(){return new Z(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends Ds{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Ds{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return gS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ee.fromString(e))}static fromName(e){return new Y(Ee.fromString(e).popFirst(5))}static empty(){return new Y(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ee(e.slice()))}}function vS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Mn(i,Y.empty(),e)}function yS(t){return new Mn(t.readTime,t.key,-1)}class Mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mn(Z.min(),Y.empty(),-1)}static max(){return new Mn(Z.max(),Y.empty(),-1)}}function wS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==_S)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}_f.ct=-1;function bu(t){return t==null}function $c(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Iu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Do(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Do(this.root,e,this.comparator,!1)}getReverseIterator(){return new Do(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Do(this.root,e,this.comparator,!0)}}class Do{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ue(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jp(this.data.getIterator())}getIteratorFrom(e){return new jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new mn([])}unionWith(e){let n=new nt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new F0("Invalid base64 string: "+i):i}}(e);return new it(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const kS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function On(t){if($e(!!t),typeof t=="string"){let e=0;const n=kS.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ef(t){const e=t.mapValue.fields.__previous_value__;return Sf(e)?Ef(e):e}function Ms(t){const e=On(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,s,o,u,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=l,this.useFetchStreams=c}}class Os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function or(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Sf(t)?4:TS(t)?9007199254740991:10:ne()}function Wt(t,e){if(t===e)return!0;const n=or(t);if(n!==or(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ms(t).isEqual(Ms(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=On(r.timestampValue),o=On(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return sr(r.bytesValue).isEqual(sr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ne(r.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ne(r.integerValue)===Ne(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ne(r.doubleValue),o=Ne(i.doubleValue);return s===o?$c(s)===$c(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Zr(t.arrayValue.values||[],e.arrayValue.values||[],Wt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zp(s)!==zp(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Wt(s[u],o[u])))return!1;return!0}(t,e);default:return ne()}}function Ls(t,e){return(t.values||[]).find(n=>Wt(n,e))!==void 0}function ei(t,e){if(t===e)return 0;const n=or(t),r=or(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ne(i.integerValue||i.doubleValue),u=Ne(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Fp(t.timestampValue,e.timestampValue);case 4:return Fp(Ms(t),Ms(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=sr(i),u=sr(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const c=ce(o[l],u[l]);if(c!==0)return c}return ce(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(Ne(i.latitude),Ne(s.latitude));return o!==0?o:ce(Ne(i.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const c=ei(o[l],u[l]);if(c)return c}return ce(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mo.mapValue&&s===Mo.mapValue)return 0;if(i===Mo.mapValue)return 1;if(s===Mo.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const _=ce(u[h],c[h]);if(_!==0)return _;const w=ei(o[u[h]],l[c[h]]);if(w!==0)return w}return ce(u.length,c.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Fp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=On(t),r=On(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function ti(t){return Rc(t)}function Rc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=On(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Y.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Rc(r.fields[u])}`;return s+"}"}(t.mapValue):ne();var e,n}function xc(t){return!!t&&"integerValue"in t}function kf(t){return!!t&&"arrayValue"in t}function Bp(t){return!!t&&"nullValue"in t}function Up(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bl(t){return!!t&&"mapValue"in t}function ns(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Iu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ns(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ns(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ns(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=ns(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Iu(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xt(ns(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Xe(e,0,Z.min(),Z.min(),Z.min(),xt.empty(),0)}static newFoundDocument(e,n,r,i){return new Xe(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Xe(e,2,n,Z.min(),Z.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new Xe(e,3,n,Z.min(),Z.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.position=e,this.inclusive=n}}function Vp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=ei(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n="asc"){this.field=e,this.dir=n}}function bS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{}class Oe extends B0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PS(e,n,r):n==="array-contains"?new DS(e,r):n==="in"?new MS(e,r):n==="not-in"?new OS(e,r):n==="array-contains-any"?new LS(e,r):new Oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AS(e,r):new NS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ei(n,this.value)):n!==null&&or(this.value)===or(n)&&this.matchesComparison(ei(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kt extends B0{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Kt(e,n)}matches(e){return U0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function U0(t){return t.op==="and"}function V0(t){return IS(t)&&U0(t)}function IS(t){for(const e of t.filters)if(e instanceof Kt)return!1;return!0}function zc(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+ti(t.value);if(V0(t))return t.filters.map(e=>zc(e)).join(",");{const e=t.filters.map(n=>zc(n)).join(",");return`${t.op}(${e})`}}function H0(t,e){return t instanceof Oe?function(n,r){return r instanceof Oe&&n.op===r.op&&n.field.isEqual(r.field)&&Wt(n.value,r.value)}(t,e):t instanceof Kt?function(n,r){return r instanceof Kt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&H0(s,r.filters[o]),!0):!1}(t,e):void ne()}function q0(t){return t instanceof Oe?function(e){return`${e.field.canonicalString()} ${e.op} ${ti(e.value)}`}(t):t instanceof Kt?function(e){return e.op.toString()+" {"+e.getFilters().map(q0).join(" ,")+"}"}(t):"Filter"}class PS extends Oe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class AS extends Oe{constructor(e,n){super(e,"in",n),this.keys=W0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NS extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=W0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function W0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class DS extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kf(n)&&Ls(n.arrayValue,this.value)}}class MS extends Oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ls(this.value.arrayValue,n)}}class OS extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ls(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ls(this.value.arrayValue,n)}}class LS extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ls(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.dt=null}}function qp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new $S(t,e,n,r,i,s,o)}function Cf(t){const e=ue(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ti(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ti(r)).join(",")),e.dt=n}return e.dt}function Tf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hp(t.startAt,e.startAt)&&Hp(t.endAt,e.endAt)}function jc(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function RS(t,e,n,r,i,s,o,u){return new Pu(t,e,n,r,i,s,o,u)}function bf(t){return new Pu(t)}function Wp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function zS(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function jS(t){return t.collectionGroup!==null}function Vr(t){const e=ue(t);if(e.wt===null){e.wt=[];const n=zS(e),r=xS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new rs(n)),e.wt.push(new rs(ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new rs(ct.keyField(),s))}}}return e.wt}function an(t){const e=ue(t);if(!e._t)if(e.limitType==="F")e._t=qp(e.path,e.collectionGroup,Vr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Vr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new rs(s.field,o))}const r=e.endAt?new Aa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Aa(e.startAt.position,e.startAt.inclusive):null;e._t=qp(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Fc(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Au(t,e){return Tf(an(t),an(e))&&t.limitType===e.limitType}function K0(t){return`${Cf(an(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>q0(r)).join(", ")}]`),bu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ti(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ti(r)).join(",")),`Target(${n})`}(an(t))}; limitType=${t.limitType})`}function Nu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Y.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Vr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=Vp(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,Vr(n),r)||n.endAt&&!function(i,s,o){const u=Vp(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,Vr(n),r))}(t,e)}function FS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G0(t){return(e,n)=>{let r=!1;for(const i of Vr(t)){const s=BS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BS(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?ei(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Iu(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Pe(Y.comparator);function Ln(){return US}const Q0=new Pe(Y.comparator);function Fi(...t){let e=Q0;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=Q0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yn(){return is()}function Y0(){return is()}function is(){return new mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const HS=new nt(Y.comparator);function oe(...t){let e=HS;for(const n of t)e=e.add(n);return e}const qS=new nt(ce);function WS(){return qS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function GS(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function QS(t,e,n){return t instanceof Uc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Sf(i)&&(i=Ef(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Na?X0(t,e):t instanceof Da?J0(t,e):function(r,i){const s=XS(r,i),o=Kp(s)+Kp(r.gt);return xc(s)&&xc(r.gt)?GS(o):KS(r.serializer,o)}(t,e)}function YS(t,e,n){return t instanceof Na?X0(t,e):t instanceof Da?J0(t,e):n}function XS(t,e){return t instanceof Vc?xc(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Uc extends Du{}class Na extends Du{constructor(e){super(),this.elements=e}}function X0(t,e){const n=Z0(e);for(const r of t.elements)n.some(i=>Wt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Da extends Du{constructor(e){super(),this.elements=e}}function J0(t,e){let n=Z0(e);for(const r of t.elements)n=n.filter(i=>!Wt(i,r));return{arrayValue:{values:n}}}class Vc extends Du{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Kp(t){return Ne(t.integerValue||t.doubleValue)}function Z0(t){return kf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JS(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Na&&r instanceof Na||n instanceof Da&&r instanceof Da?Zr(n.elements,r.elements,Wt):n instanceof Vc&&r instanceof Vc?Wt(n.gt,r.gt):n instanceof Uc&&r instanceof Uc}(t.transform,e.transform)}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class If{}function ey(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eE(t.key,Zn.none()):new Pf(t.key,t.data,Zn.none());{const n=t.data,r=xt.empty();let i=new nt(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Mu(t.key,r,new mn(i.toArray()),Zn.none())}}function ZS(t,e,n){t instanceof Pf?function(r,i,s){const o=r.value.clone(),u=Qp(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Mu?function(r,i,s){if(!Wo(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Qp(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(ty(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ss(t,e,n,r){return t instanceof Pf?function(i,s,o,u){if(!Wo(i.precondition,s))return o;const l=i.value.clone(),c=Yp(i.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mu?function(i,s,o,u){if(!Wo(i.precondition,s))return o;const l=Yp(i.fieldTransforms,u,s),c=s.data;return c.setAll(ty(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Wo(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Gp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Zr(n,r,(i,s)=>JS(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pf extends If{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mu extends If{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ty(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qp(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,YS(o,u,n[i]))}return r}function Yp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QS(s,o,e))}return r}class eE extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ss(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Y0();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=ey(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Zr(this.mutations,e.mutations,(n,r)=>Gp(n,r))&&Zr(this.baseMutations,e.baseMutations,(n,r)=>Gp(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,se;function ny(t){if(t===void 0)return on("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ae.OK:return F.OK;case Ae.CANCELLED:return F.CANCELLED;case Ae.UNKNOWN:return F.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return F.INTERNAL;case Ae.UNAVAILABLE:return F.UNAVAILABLE;case Ae.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ae.NOT_FOUND:return F.NOT_FOUND;case Ae.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ae.ABORTED:return F.ABORTED;case Ae.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ae.DATA_LOSS:return F.DATA_LOSS;default:return ne()}}(se=Ae||(Ae={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Oo}static getOrCreateInstance(){return Oo===null&&(Oo=new Af),Oo}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Oo=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Br([4294967295,4294967295],0);function Xp(t){const e=iE().encode(t),n=new oS;return n.update(e),new Uint8Array(n.digest())}function Jp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,s],0)]}class Nf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bi(`Invalid padding: ${n}`);if(r<0)throw new Bi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Br.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(sE)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Xp(e),[r,i]=Jp(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Nf(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.It===0)return;const n=Xp(e),[r,i]=Jp(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,io.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ou(Z.min(),i,new Pe(ce),Ln(),oe())}}class io{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new io(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class ry{constructor(e,n){this.targetId=e,this.Vt=n}}class iy{constructor(e,n,r=it.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zp{constructor(){this.St=0,this.Dt=tm(),this.Ct=it.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=oe(),n=oe(),r=oe();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new io(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=tm()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oE{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ln(),this.zt=em(),this.Wt=new Pe(ce)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(jc(o))if(i===0){const u=new Y(o.path);this.Yt(r,u,Xe.newNoDocument(u,Z.min()))}else $e(i===1);else{const u=this.ie(r);if(u!==i){const l=this.re(e,u);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=Af.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,h,_){var w,b,P,T,v,m;const g={localCacheCount:h,existenceFilterCount:_.count},C=_.unchangedNames;return C&&(g.bloomFilter={applied:c===0,hashCount:(w=C==null?void 0:C.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(T=(P=(b=C==null?void 0:C.bits)===null||b===void 0?void 0:b.bitmap)===null||P===void 0?void 0:P.length)!==null&&T!==void 0?T:0,padding:(m=(v=C==null?void 0:C.bits)===null||v===void 0?void 0:v.padding)!==null&&m!==void 0?m:0}),g}(l,u,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let l,c;try{l=sr(s).toUint8Array()}catch(h){if(h instanceof F0)return Jr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{c=new Nf(l,o,u)}catch(h){return Jr(h instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(u)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const u=this.se(o);if(u){if(s.current&&jc(u.target)){const l=new Y(u.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Xe.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=oe();this.zt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Ou(e,n,this.Wt,this.jt,r);return this.jt=Ln(),this.zt=em(),this.Wt=new Pe(ce),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Zp,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new nt(ce),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Zp),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function em(){return new Pe(Y.comparator)}function tm(){return new Pe(Y.comparator)}const aE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lE=(()=>({and:"AND",or:"OR"}))();class cE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hc(t,e){return t.useProto3Json||bu(e)?e:{value:e}}function dE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hr(t){return $e(!!t),Z.fromTimestamp(function(e){const n=On(e);return new ht(n.seconds,n.nanos)}(t))}function hE(t,e){return function(n){return new Ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function sy(t){const e=Ee.fromString(t);return $e(ly(e)),e}function Il(t,e){const n=sy(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(oy(n))}function qc(t,e){return hE(t.databaseId,e)}function pE(t){const e=sy(t);return e.length===4?Ee.emptyPath():oy(e)}function nm(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oy(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?($e(c===void 0||typeof c=="string"),it.fromBase64String(c||"")):($e(c===void 0||c instanceof Uint8Array),it.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?F.UNKNOWN:ny(l.code);return new Q(c,l.message||"")}(o);n=new iy(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Il(t,r.document.name),s=Hr(r.document.updateTime),o=r.document.createTime?Hr(r.document.createTime):Z.min(),u=new xt({mapValue:{fields:r.document.fields}}),l=Xe.newFoundDocument(i,s,o,u),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Ko(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Il(t,r.document),s=r.readTime?Hr(r.readTime):Z.min(),o=Xe.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Ko([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Il(t,r.document),s=r.removedTargetIds||[];n=new Ko([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rE(i,s),u=r.targetId;n=new ry(u,o)}}return n}function gE(t,e){return{documents:[qc(t,e.path)]}}function vE(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=qc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return uy(Kt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:vr(h.field),direction:_E(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Hc(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function yE(t){let e=pE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const _=ay(h);return _ instanceof Kt&&V0(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(_){return new rs(yr(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h)));let u=null;n.limit&&(u=function(h){let _;return _=typeof h=="object"?h.value:h,bu(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(h){const _=!!h.before,w=h.values||[];return new Aa(w,_)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const _=!h.before,w=h.values||[];return new Aa(w,_)}(n.endAt)),RS(e,i,o,s,u,"F",l,c)}function wE(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ay(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=yr(e.unaryFilter.field);return Oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=yr(e.unaryFilter.field);return Oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yr(e.unaryFilter.field);return Oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yr(e.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(e){return Oe.create(yr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Kt.create(e.compositeFilter.filters.map(n=>ay(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ne()}}(e.compositeFilter.op))}(t):ne()}function _E(t){return aE[t]}function SE(t){return uE[t]}function EE(t){return lE[t]}function vr(t){return{fieldPath:t.canonicalString()}}function yr(t){return ct.fromServerFormat(t.fieldPath)}function uy(t){return t instanceof Oe?function(e){if(e.op==="=="){if(Up(e.value))return{unaryFilter:{field:vr(e.field),op:"IS_NAN"}};if(Bp(e.value))return{unaryFilter:{field:vr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Up(e.value))return{unaryFilter:{field:vr(e.field),op:"IS_NOT_NAN"}};if(Bp(e.value))return{unaryFilter:{field:vr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vr(e.field),op:SE(e.op),value:e.value}}}(t):t instanceof Kt?function(e){const n=e.getFilters().map(r=>uy(r));return n.length===1?n[0]:{compositeFilter:{op:EE(e.op),filters:n}}}(t):ne()}function ly(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,s=Z.min(),o=Z.min(),u=it.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=l}withSequenceNumber(e){return new gn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.fe=e}}function CE(t){const e=yE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.rn=new bE}addToCollectionParentIndex(e,n){return this.rn.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(Mn.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class bE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Ee.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ni(0)}static Mn(){return new ni(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.changes=new mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ss(r.mutation,i,mn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Yn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fi();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=Ln();const o=is(),u=is();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Mu)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ss(h.mutation,c,h.mutation.getFieldMask(),ht.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var _;return u.set(c,new PE(h,(_=o.get(c))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=is();let i=new Pe((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||mn.empty();h=u.applyToLocalView(c,h),r.set(l,h);const _=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),c=l.key,h=l.value,_=Y0();h.forEach(w=>{if(!s.has(w)){const b=ey(n.get(w),r.get(w));b!==null&&_.set(w,b),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,_))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Y.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Yn());let u=-1,l=s;return o.next(c=>R.forEach(c,(h,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(h)?R.resolve():this.remoteDocumentCache.getEntry(e,h).next(w=>{l=l.insert(h,w)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(h=>({batchId:u,changes:VS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=Fi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Fi();return this.indexManager.getCollectionParents(e,i).next(o=>R.forEach(o,u=>{const l=function(c,h){return new Pu(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((h,_)=>{s=s.insert(h,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Xe.newInvalidDocument(c)))});let o=Fi();return s.forEach((u,l)=>{const c=i.get(u);c!==void 0&&ss(c.mutation,l,mn.empty(),ht.now()),Nu(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return R.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Hr(r.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:CE(r.bundledQuery),readTime:Hr(r.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.overlays=new Pe(Y.comparator),this.ls=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yn();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=Yn(),s=n.length+1,o=new Y(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Yn(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const u=Yn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>u.set(c,h)),!(u.size()>=i)););return R.resolve(u)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nE(n,r));let s=this.ls.get(n);s===void 0&&(s=oe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.fs=new nt(xe.ds),this.ws=new nt(xe._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new xe(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new xe(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Y(new Ee([])),r=new xe(n,e),i=new xe(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Y(new Ee([])),r=new xe(n,e),i=new xe(n,e+1);let s=oe();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xe(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xe{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Y.comparator(e.key,n.key)||ce(e.As,n.As)}static _s(e,n){return ce(e.As,n.As)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new nt(xe.ds)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tE(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Rs=this.Rs.add(new xe(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const u=this.Ps(o.As);s.push(u)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ce);return n.forEach(i=>{const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],u=>{r=r.add(u.As)})}),R.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new xe(new Y(s),0);let u=new nt(ce);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(u=u.add(l.As)),!0)},o),R.resolve(this.Vs(u))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return R.forEach(n.mutations,i=>{const s=new xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new xe(n,0),i=this.Rs.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.Ds=e,this.docs=new Pe(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xe.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ln();const o=n.path,u=new Y(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wS(yS(h),r)<=0||(i.has(h.key)||Nu(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Cs(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LE(this)}getSize(e){return R.resolve(this.size)}}class LE extends IE{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.persistence=e,this.xs=new mi(n=>Cf(n),Tf),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Df,this.targetCount=0,this.Ms=ni.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),R.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ni(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Fn(n),R.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n){this.$s={},this.overlays={},this.Os=new _f(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $E(this),this.indexManager=new TE,this.remoteDocumentCache=function(r){return new OE(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new kE(n),this.qs=new NE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new ME(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new xE(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return R.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class xE extends SS{constructor(e){super(),this.currentSequenceNumber=e}}class Mf{constructor(e){this.persistence=e,this.Qs=new Df,this.js=null}static zs(e){return new Mf(e)}get Ws(){if(this.js)return this.js;throw ne()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),R.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Ws,r=>{const i=Y.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return R.or([()=>R.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Of(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Wp(n))return R.resolve(null);let r=an(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fc(n,null,"F"),r=an(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Ui.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,u);return this.zi(n,c,o,l.readTime)?this.Ki(e,Fc(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,i){return Wp(n)||i.isEqual(Z.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(xp()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(n)),this.Wi(e,o,n,vS(i,-1)))})}ji(e,n){let r=new nt(G0(e));return n.forEach((i,s)=>{Nu(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return xp()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Bc(n)),this.Ui.getDocumentsMatchingQuery(e,n,Mn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Pe(ce),this.Yi=new mi(s=>Cf(s),Tf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AE(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function FE(t,e,n,r){return new jE(t,e,n,r)}async function cy(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){u.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:u}))})})}function dy(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function BE(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const u=[];e.targetChanges.forEach((h,_)=>{const w=i.get(_);if(!w)return;u.push(n.Bs.removeMatchingKeys(s,h.removedDocuments,_).next(()=>n.Bs.addMatchingKeys(s,h.addedDocuments,_)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(it.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,r)),i=i.insert(_,b),function(P,T,v){return P.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(w,b,h)&&u.push(n.Bs.updateTargetData(s,b))});let l=Ln(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(UE(s,o,e.documentUpdates).next(h=>{l=h.nr,c=h.sr})),!r.isEqual(Z.min())){const h=n.Bs.getLastRemoteSnapshotVersion(s).next(_=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return R.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=i,s))}function UE(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ln();return n.forEach((u,l)=>{const c=s.get(u);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):K("LocalStore","Ignoring outdated watch update for ",u,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}function VE(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new gn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Wc(t,e,n){const r=ue(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ro(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function rm(t,e,n){const r=ue(t);let i=Z.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,c){const h=ue(u),_=h.Yi.get(c);return _!==void 0?R.resolve(h.Ji.get(_)):h.Bs.getTargetData(l,c)}(r,o,an(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:oe())).next(u=>(HE(r,FS(e),u),{documents:u,ir:s})))}function HE(t,e,n){let r=t.Xi.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class im{constructor(){this.activeTargetIds=WS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qE{constructor(){this.Hr=new im,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new im,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=null;function Pl(){return Lo===null?Lo=268435456+Math.round(2147483648*Math.random()):Lo++,"0x"+Lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class QE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Pl(),u=this.To(e,n);K("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.Eo(l,i,s),this.Ao(e,u,l,r).then(c=>(K("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Jr("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",u,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=KE[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Pl();return new Promise((o,u)=>{const l=new sS;l.setWithCredentials(!0),l.listenOnce(nS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tl.NO_ERROR:const h=l.getResponseJson();K(Ge,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Tl.TIMEOUT:K(Ge,`RPC '${e}' ${s} timed out`),u(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const _=l.getStatus();if(K(Ge,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const P=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(b.status);u(new Q(P,b.message))}else u(new Q(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Q(F.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{K(Ge,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(Ge,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=Pl(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eS(),u=tS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new iS({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");K(Ge,`Creating RPC '${e}' stream ${i}: ${h}`,l);const _=o.createWebChannel(h,l);let w=!1,b=!1;const P=new GE({ro:v=>{b?K(Ge,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(w||(K(Ge,`Opening RPC '${e}' stream ${i} transport.`),_.open(),w=!0),K(Ge,`RPC '${e}' stream ${i} sending:`,v),_.send(v))},oo:()=>_.close()}),T=(v,m,g)=>{v.listen(m,C=>{try{g(C)}catch(a){setTimeout(()=>{throw a},0)}})};return T(_,No.EventType.OPEN,()=>{b||K(Ge,`RPC '${e}' stream ${i} transport opened.`)}),T(_,No.EventType.CLOSE,()=>{b||(b=!0,K(Ge,`RPC '${e}' stream ${i} transport closed`),P.wo())}),T(_,No.EventType.ERROR,v=>{b||(b=!0,Jr(Ge,`RPC '${e}' stream ${i} transport errored:`,v),P.wo(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),T(_,No.EventType.MESSAGE,v=>{var m;if(!b){const g=v.data[0];$e(!!g);const C=g,a=C.error||((m=C[0])===null||m===void 0?void 0:m.error);if(a){K(Ge,`RPC '${e}' stream ${i} received error:`,a);const f=a.status;let d=function(y){const S=Ae[y];if(S!==void 0)return ny(S)}(f),p=a.message;d===void 0&&(d=F.INTERNAL,p="Unknown error status: "+f+" with message "+a.message),b=!0,P.wo(new Q(d,p)),_.close()}else K(Ge,`RPC '${e}' stream ${i} received:`,g),P._o(g)}}),T(u,rS.STAT_EVENT,v=>{v.stat===$p.PROXY?K(Ge,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===$p.NOPROXY&&K(Ge,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function Al(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return new cE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,s,o,u,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hy(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(on(n.toString()),on("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XE extends YE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=mE(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?Hr(s.readTime):Z.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=nm(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=jc(u)?{documents:gE(i,u)}:{query:vE(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=fE(i,s.resumeToken);const l=Hc(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(Z.min())>0){o.readTime=dE(i,s.snapshotVersion.toTimestamp());const l=Hc(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=wE(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(F.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ZE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(on(n),this.mu=!1):K("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{oo(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ue(u);l.vu.add(4),await so(l),l.bu.set("Unknown"),l.vu.delete(4),await Lu(l)}(this))})}),this.bu=new ZE(r,i)}}async function Lu(t){if(oo(t))for(const e of t.Ru)await e(!0)}async function so(t){for(const e of t.Ru)await e(!1)}function py(t,e){const n=ue(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Rf(n)?$f(n):gi(n).Ko()&&Lf(n,e))}function my(t,e){const n=ue(t),r=gi(n);n.Au.delete(e),r.Ko()&&gy(n,e),n.Au.size===0&&(r.Ko()?r.jo():oo(n)&&n.bu.set("Unknown"))}function Lf(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gi(t).su(e)}function gy(t,e){t.Vu.qt(e),gi(t).iu(e)}function $f(t){t.Vu=new oE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),gi(t).start(),t.bu.gu()}function Rf(t){return oo(t)&&!gi(t).Uo()&&t.Au.size>0}function oo(t){return ue(t).vu.size===0}function vy(t){t.Vu=void 0}async function t6(t){t.Au.forEach((e,n)=>{Lf(t,e)})}async function n6(t,e){vy(t),Rf(t)?(t.bu.Iu(e),$f(t)):t.bu.set("Unknown")}async function r6(t,e,n){if(t.bu.set("Online"),e instanceof iy&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await om(t,r)}else if(e instanceof Ko?t.Vu.Ht(e):e instanceof ry?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Z.min()))try{const r=await dy(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,l)=>{const c=i.Au.get(u);if(!c)return;i.Au.set(u,c.withResumeToken(it.EMPTY_BYTE_STRING,c.snapshotVersion)),gy(i,u);const h=new gn(c.target,u,l,c.sequenceNumber);Lf(i,h)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await om(t,r)}}async function om(t,e,n){if(!ro(e))throw e;t.vu.add(1),await so(t),t.bu.set("Offline"),n||(n=()=>dy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Lu(t)})}async function am(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=oo(n);n.vu.add(3),await so(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Lu(n)}async function i6(t,e){const n=ue(t);e?(n.vu.delete(2),await Lu(n)):e||(n.vu.add(2),await so(n),n.bu.set("Unknown"))}function gi(t){return t.Su||(t.Su=function(e,n,r){const i=ue(e);return i.fu(),new XE(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:t6.bind(null,t),ao:n6.bind(null,t),nu:r6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Rf(t)?$f(t):t.bu.set("Unknown")):(await t.Su.stop(),vy(t))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new xf(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(t,e){if(on("AsyncQueue",`${e}: ${t}`),ro(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Fi(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new qr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Cu=new Pe(Y.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ne():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ri{constructor(e,n,r,i,s,o,u,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new ri(e,n,qr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Nu=void 0,this.listeners=[]}}class o6{constructor(){this.queries=new mi(e=>K0(e),Au),this.onlineState="Unknown",this.ku=new Set}}async function a6(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new s6),i)try{s.Nu=await n.onListen(r)}catch(o){const u=yy(o,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&zf(n)}async function u6(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function l6(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.$u(i)&&(r=!0);o.Nu=i}}r&&zf(n)}function c6(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zf(t){t.ku.forEach(e=>{e.next()})}class d6{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ri(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ri.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.key=e}}class _y{constructor(e){this.key=e}}class f6{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=oe(),this.mutatedKeys=oe(),this.tc=G0(e),this.ec=new qr(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new um,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,_)=>{const w=i.get(h),b=Nu(this.query,_)?_:null,P=!!w&&this.mutatedKeys.has(w.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let v=!1;w&&b?w.data.isEqual(b.data)?P!==T&&(r.track({type:3,doc:b}),v=!0):this.rc(w,b)||(r.track({type:2,doc:b}),v=!0,(l&&this.tc(b,l)>0||c&&this.tc(b,c)<0)&&(u=!0)):!w&&b?(r.track({type:0,doc:b}),v=!0):w&&!b&&(r.track({type:1,doc:w}),v=!0,(l||c)&&(u=!0)),v&&(b?(o=o.add(b),s=T?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ec:o,ic:r,zi:u,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,h)=>function(_,w){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return b(_)-b(w)}(c.type,h.type)||this.tc(c.doc,h.doc)),this.oc(r);const o=n?this.uc():[],u=this.Zu.size===0&&this.current?1:0,l=u!==this.Xu;return this.Xu=u,s.length!==0||l?{snapshot:new ri(this.query,e.ec,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new um,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=oe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new _y(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new wy(r))}),n}hc(e){this.Yu=e.ir,this.Zu=oe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ri.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class h6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class p6{constructor(e){this.key=e,this.fc=!1}}class m6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new mi(u=>K0(u),Au),this._c=new Map,this.mc=new Set,this.gc=new Pe(Y.comparator),this.yc=new Map,this.Ic=new Df,this.Tc={},this.Ec=new Map,this.Ac=ni.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function g6(t,e){const n=k6(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await VE(n.localStore,an(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await v6(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&py(n.remoteStore,o)}return i}async function v6(t,e,n,r,i){t.Rc=(_,w,b)=>async function(P,T,v,m){let g=T.view.sc(v);g.zi&&(g=await rm(P.localStore,T.query,!1).then(({documents:f})=>T.view.sc(f,g)));const C=m&&m.targetChanges.get(T.targetId),a=T.view.applyChanges(g,P.isPrimaryClient,C);return cm(P,T.targetId,a.cc),a.snapshot}(t,_,w,b);const s=await rm(t.localStore,e,!0),o=new f6(e,s.ir),u=o.sc(s.documents),l=io.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(u,t.isPrimaryClient,l);cm(t,n,c.cc);const h=new h6(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function y6(t,e){const n=ue(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Au(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),my(n.remoteStore,r.targetId),Kc(n,r.targetId)}).catch(wf)):(Kc(n,r.targetId),await Wc(n.localStore,r.targetId,!0))}async function Sy(t,e){const n=ue(t);try{const r=await BE(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?$e(o.fc):i.removedDocuments.size>0&&($e(o.fc),o.fc=!1))}),await ky(n,r,e)}catch(r){await wf(r)}}function lm(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const u=o.view.Mu(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ue(s);u.onlineState=o;let l=!1;u.queries.forEach((c,h)=>{for(const _ of h.listeners)_.Mu(o)&&(l=!0)}),l&&zf(u)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w6(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Pe(Y.comparator);o=o.insert(s,Xe.newNoDocument(s,Z.min()));const u=oe().add(s),l=new Ou(Z.min(),new Map,new Pe(ce),o,u);await Sy(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),jf(r)}else await Wc(r.localStore,e,!1).then(()=>Kc(r,e,n)).catch(wf)}function Kc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Ey(t,r)})}function Ey(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(my(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),jf(t))}function cm(t,e,n){for(const r of n)r instanceof wy?(t.Ic.addReference(r.key,e),_6(t,r)):r instanceof _y?(K("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Ey(t,r.key)):ne()}function _6(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.mc.add(r),jf(t))}function jf(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Y(Ee.fromString(e)),r=t.Ac.next();t.yc.set(r,new p6(n)),t.gc=t.gc.insert(n,r),py(t.remoteStore,new gn(an(bf(n.path)),r,"TargetPurposeLimboResolution",_f.ct))}}async function ky(t,e,n){const r=ue(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((u,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=Of.Li(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.dc.nu(i),await async function(u,l){const c=ue(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(l,_=>R.forEach(_.Fi,w=>c.persistence.referenceDelegate.addReference(h,_.targetId,w)).next(()=>R.forEach(_.Bi,w=>c.persistence.referenceDelegate.removeReference(h,_.targetId,w)))))}catch(h){if(!ro(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const _=h.targetId;if(!h.fromCache){const w=c.Ji.get(_),b=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(b);c.Ji=c.Ji.insert(_,P)}}}(r.localStore,s))}async function S6(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await cy(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(u=>{u.reject(new Q(F.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ky(n,r.er)}}function E6(t,e){const n=ue(t),r=n.yc.get(e);if(r&&r.fc)return oe().add(r.key);{let i=oe();const s=n._c.get(e);if(!s)return i;for(const o of s){const u=n.wc.get(o);i=i.unionWith(u.view.nc)}return i}}function k6(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w6.bind(null,e),e.dc.nu=l6.bind(null,e.eventManager),e.dc.Pc=c6.bind(null,e.eventManager),e}class dm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FE(this.persistence,new zE,e.initialUser,this.serializer)}createPersistence(e){return new RE(Mf.zs,this.serializer)}createSharedClientState(e){return new qE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class C6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S6.bind(null,this.syncEngine),await i6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new o6}createDatastore(e){const n=fy(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new QE(i));var i;return function(s,o,u,l){return new JE(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>lm(this.syncEngine,u,0),o=sm.D()?new sm:new WE,new e6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,c){const h=new m6(r,i,s,o,u,l);return c&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ue(e);K("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await so(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):on("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=mS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nl(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await P6(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>am(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>am(e.remoteStore,s)),t._onlineComponents=e}function I6(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function P6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!I6(n))throw n;Jr("Error using user provided cache. Falling back to memory cache: "+n),await Nl(t,new dm)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Nl(t,new dm);return t._offlineComponents}async function A6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await fm(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await fm(t,new C6))),t._onlineComponents}async function hm(t){const e=await A6(t),n=e.eventManager;return n.onListen=g6.bind(null,e.syncEngine),n.onUnlisten=y6.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D6(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mm(t){if(Y.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function M6(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Go(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=M6(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Ff{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aS;switch(n.type){case"firstParty":return new dS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=pm.get(e);n&&(K("ComponentProvider","Removing Datastore"),pm.delete(e),n.terminate())}(this),Promise.resolve()}}function O6(t,e,n,r={}){var i;const s=(t=Go(t,Ff))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Ye.MOCK_USER;else{o=F_(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ye(l)}t._authCredentials=new uS(new j0(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class $u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $u(this.firestore,e,this._query)}}class Wr extends $u{constructor(e,n,r){super(e,n,bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Y(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function L6(t,e,...n){if(t=Nv(t),N6("collection","path",e),t instanceof Ff){const r=Ee.fromString(e,...n);return mm(r),new Wr(t,null,r)}{if(!(t instanceof fr||t instanceof Wr))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return mm(r),new Wr(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hy(this,"async_queue_retry"),this.Xc=()=>{const n=Al();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Al();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Al();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ro(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw on("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=xf.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ne()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function vm(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Gc extends Ff{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ty(this),this._firestoreClient.terminate()}}function R6(t,e){const n=typeof t=="object"?t:H2(),r=typeof t=="string"?t:e||"(default)",i=F2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=z_("firestore");s&&O6(i,...s)}return i}function x6(t){return t._firestoreClient||Ty(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ty(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,c){return new CS(o,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Cy(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new b6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ma(it.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ma(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}const j6=new RegExp("[~\\*/\\[\\]]");function F6(t,e,n){if(e.search(j6)>=0)throw ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new by(...e.split("."))._internalPath}catch{throw ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(F.INVALID_ARGUMENT,u+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Py("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B6 extends Iy{data(){return super.data()}}function Py(t,e){return typeof e=="string"?F6(t,e):e instanceof by?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V6{convertValue(e,n="none"){switch(or(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Iu(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new z6(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ms(e));default:return null}}convertTimestamp(e){const n=On(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);$e(ly(r));const i=new Os(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||on(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ay extends Iy{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qo extends Ay{data(e={}){return super.data(e)}}class H6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ui(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qo(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new Qo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ui(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Qo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ui(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:q6(o.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}class Ny extends V6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function W6(t,...e){var n,r,i;t=Nv(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||vm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(vm(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let l,c,h;if(t instanceof fr)c=Go(t.firestore,Gc),h=bf(t._key.path),l={next:_=>{e[o]&&e[o](K6(c,t,_))},error:e[o+1],complete:e[o+2]};else{const _=Go(t,$u);c=Go(_.firestore,Gc),h=_._query;const w=new Ny(c);l={next:b=>{e[o]&&e[o](new H6(c,w,_,b))},error:e[o+1],complete:e[o+2]},U6(t._query)}return function(_,w,b,P){const T=new T6(P),v=new d6(w,T,b);return _.asyncQueue.enqueueAndForget(async()=>a6(await hm(_),v)),()=>{T.Dc(),_.asyncQueue.enqueueAndForget(async()=>u6(await hm(_),v))}}(x6(c),h,u,l)}function K6(t,e,n){const r=n.docs.get(e._key),i=new Ny(t);return new Ay(t,i,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){pi=n})(V2),Sa(new Ss("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Gc(new lS(n.getProvider("auth-internal")),new hS(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),jr(Rp,"3.12.1",t),jr(Rp,"3.12.1","esm2017")})();var G6="firebase",Q6="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(G6,Q6,"app");const Y6={apiKey:"AIzaSyAqj8R105vZwIlBVT0essDg--XH1dli8Ys",authDomain:"scrimba-react-firebase.firebaseapp.com",projectId:"scrimba-react-firebase",storageBucket:"scrimba-react-firebase.appspot.com",messagingSenderId:"614162901014",appId:"1:614162901014:web:acd4863189971f9327ed37"},X6=Lv(Y6),J6=R6(X6),Z6=L6(J6,"notes");function ek(){var l;const[t,e]=Pr.useState(()=>JSON.parse(localStorage.getItem("notes"))||[]),[n,r]=Pr.useState(((l=t[0])==null?void 0:l.id)||""),i=t.find(c=>c.id===n)||t[0];Pr.useEffect(()=>W6(Z6,function(h){console.log("Things are changing")})(),[]);function s(){const c={id:P_(),body:"# Type your markdown note's title here"};e(h=>[c,...h]),r(c.id)}function o(c){e(h=>{const _=[];for(let w=0;w<h.length;w++){const b=h[w];b.id===n?_.unshift({...b,body:c}):_.push(b)}return _})}function u(c,h){c.stopPropagation(),e(_=>_.filter(w=>w.id!==h))}return Me.jsx("main",{children:t.length>0?Me.jsxs(Kd,{sizes:[30,70],direction:"horizontal",className:"split",children:[Me.jsx(Bw,{notes:t,currentNote:i,setCurrentNoteId:r,newNote:s,deleteNote:u}),n&&t.length>0&&Me.jsx(y_,{currentNote:i,updateNote:o})]}):Me.jsxs("div",{className:"no-notes",children:[Me.jsx("h1",{children:"You have no notes"}),Me.jsx("button",{className:"first-note",onClick:s,children:"Create one now"})]})})}Fw.render(Me.jsx(ek,{}),document.getElementById("root"));
